!function(t){function e(e){for(var a,o,i=e[0],c=e[1],u=e[2],d=0,p=[];d<i.length;d++)o=i[d],r[o]&&p.push(r[o][0]),r[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);for(l&&l(e);p.length;)p.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],a=!0,i=1;i<n.length;i++){var c=n[i];0!==r[c]&&(a=!1)}a&&(s.splice(e--,1),t=o(o.s=n[0]))}return t}var a={},r={3:0},s=[];function o(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=a,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(n,a,function(e){return t[e]}.bind(null,a));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="";var i=window.webpackJsonp=window.webpackJsonp||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var l=c;s.push([328,0]),n()}({1:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var a=Symbol("util.promisify.custom");function r(t,e){if(void 0===e&&(e=this),"function"!=typeof t)throw new Error("original","Function",t);function n(){for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return new Promise(function(n,r){t.call.apply(t,[e].concat(a,[function(t){n(t)}]))})}return Object.setPrototypeOf(n,Object.getPrototypeOf(t)),Object.defineProperty(n,a,{value:n,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(n,Object.getOwnPropertyDescriptors(t))}},20:function(t,e,n){"use strict";var a={props:["size"]},r=(n(293),n(0)),s=Object(r.a)(a,function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{staticClass:"spinner",attrs:{width:this.size,height:this.size,viewBox:"0 0 66 66",xmlns:"http://www.w3.org/2000/svg"}},[e("circle",{staticClass:"path",attrs:{fill:"none","stroke-width":"6","stroke-linecap":"round",cx:"33",cy:"33",r:"30"}})])},[],!1,null,null,null);s.options.__file="Spinner.vue";e.a=s.exports},23:function(t,e,n){"use strict";var a={props:["url","action","object"]},r=(n(297),n(0)),s=Object(r.a)(a,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"permission-request"},[t._v("\n  The website at "),n("span",{staticClass:"url"},[t._v(t._s(t.url))]),t._v(" wants to "+t._s(t.action)+"\n  "),n("span",{staticClass:"object"},[t._v(t._s(t.object))])])},[],!1,null,null,null);s.options.__file="PermissionRequest.vue";e.a=s.exports},248:function(t,e,n){},250:function(t,e,n){"use strict";var a=n(46);n.n(a).a},252:function(t,e,n){"use strict";var a=n(47);n.n(a).a},254:function(t,e,n){"use strict";var a=n(48);n.n(a).a},256:function(t,e,n){"use strict";var a=n(49);n.n(a).a},258:function(t,e,n){"use strict";var a=n(50);n.n(a).a},260:function(t,e,n){"use strict";var a=n(51);n.n(a).a},262:function(t,e,n){"use strict";var a=n(52);n.n(a).a},264:function(t,e,n){"use strict";var a=n(53);n.n(a).a},266:function(t,e,n){"use strict";var a=n(54);n.n(a).a},289:function(t,e,n){"use strict";var a=n(55);n.n(a).a},291:function(t,e,n){"use strict";var a=n(56);n.n(a).a},293:function(t,e,n){"use strict";var a=n(58);n.n(a).a},295:function(t,e,n){"use strict";var a=n(59);n.n(a).a},297:function(t,e,n){"use strict";var a=n(61);n.n(a).a},299:function(t,e,n){"use strict";var a=n(62);n.n(a).a},301:function(t,e,n){"use strict";var a=n(64);n.n(a).a},303:function(t,e,n){"use strict";var a=n(66);n.n(a).a},305:function(t,e,n){var a={"./ko":139,"./ko.js":139};function r(t){var e=s(t);return n(e)}function s(t){var e=a[t];if(!(e+1)){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}return e}r.keys=function(){return Object.keys(a)},r.resolve=s,t.exports=r,r.id=305},306:function(t,e,n){"use strict";var a=n(68);n.n(a).a},308:function(t,e,n){"use strict";var a=n(69);n.n(a).a},310:function(t,e,n){"use strict";var a=n(70);n.n(a).a},313:function(t,e,n){"use strict";var a=n(71);n.n(a).a},315:function(t,e,n){"use strict";var a=n(72);n.n(a).a},317:function(t,e,n){"use strict";var a=n(73);n.n(a).a},319:function(t,e,n){"use strict";var a=n(74);n.n(a).a},321:function(t,e,n){"use strict";var a=n(75);n.n(a).a},323:function(t,e,n){"use strict";var a=n(76);n.n(a).a},325:function(t,e,n){"use strict";var a=n(77);n.n(a).a},328:function(t,e,n){"use strict";n.r(e);n(95),n(248);var a=n(19),r=n.n(a),s=n(78),o=n.n(s),i=n(79),c=n.n(i),u=n(16);function l(t){return new Promise(function(e,n){console.log("connecting to background...");var a=new u.EventEmitter,r=c()({sendUpdate:function(t){a.emit("update",t)}});t.pipe(r).pipe(t),r.once("remote",function(t){console.log("connected to remote"),t.on=a.on.bind(a),e(t)})})}var d=n(12),p=n(1),v=n(7);function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var h=null,m={data:function(){return{status:"load",blockHeight:0,chainId:""}},created:function(){this.updateStatus()},beforeDestroy:function(){},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),a.forEach(function(e){f(t,e,n[e])})}return t}({},Object(v.b)({activeChainId:function(t){return t.navigation.activeAccount.chainId}}),{networkStatusClass:function(){return"network-".concat(this.status)},networkStatusLabel:function(){return{ok:"connected",fail:"disconnected",load:"connecting..."}[this.status]}}),watch:{activeChainId:function(){this.status="load",this.updateStatus()}},methods:{updateStatus:function(){var t=this;h&&clearTimeout(h),Object(p.a)(this.$background.getBlockchainStatus)({chainId:this.activeChainId}).then(function(e){t.status="ok",t.blockHeight=e.blockHeight,t.chainId=e.chainId,h=setTimeout(function(){t.updateStatus()},5e3)}).catch(function(e){t.status="fail",console.error("Could not connect to blockchain.",e),h=setTimeout(function(){t.updateStatus()},3e4)})}},components:{}},_=(n(250),n(0)),g=Object(_.a)(m,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"network-selector",attrs:{title:t.blockHeight}},[n("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.networkStatusLabel,expression:"networkStatusLabel"}],staticClass:"network-icon tooltipped tooltipped-no-delay tooltipped-n",class:t.networkStatusClass}),t._v("\n  "+t._s(t.chainId)+"\n  (#"+t._s(t.blockHeight)+")\n")])},[],!1,null,null,null);g.options.__file="NetworkSelector.vue";var y={data:function(){return{}},components:{NetworkSelector:g.exports}},b=(n(252),Object(_.a)(y,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"footer"}},[e("a",{attrs:{id:"logo",href:"https://aergo.io",target:"_blank"}}),this._v(" "),e("div",[e("span",{staticClass:"network-selector-label"},[this._v("Network")]),this._v(" "),e("NetworkSelector")],1)])},[],!1,null,null,null));b.options.__file="Footer.vue";var x=b.exports,w={name:"TransitionPage",data:function(){return{prevHeight:0,prevWidth:0,transitionName:"fade",transitionMode:"out-in",transitionEnterActiveClass:""}},created:function(){var t=this;this.$router.beforeEach(function(e,n,a){t.transitionMode="out-in";var r=n.meta.transitionName||e.meta.transitionName||"fade",s=n.path.split("/").length-e.path.split("/").length,o=(e.meta.index||0)-(n.meta.index||0);s>0&&(r=e.meta.transitionName),s<0&&(r=n.meta.transitionName),"slide"===r&&(r=o<0||s>0?"slide-right":"slide-left",t.transitionMode=""),"slide-vertical"===r&&(r=s>0?"slide-vertical-down":"slide-vertical-up",t.transitionMode=""),t.transitionEnterActiveClass="".concat(r,"-enter-active"),"zoom"===e.meta.transitionName&&(t.transitionMode="in-out",t.transitionEnterActiveClass="zoom-enter-active",document.body.style.overflow="hidden"),"zoom"===n.meta.transitionName&&(t.transitionMode=null,t.transitionEnterActiveClass=null,document.body.style.overflow=null),t.transitionName=r,a()})},methods:{beforeLeave:function(t){var e=getComputedStyle(t);this.prevHeight=e.height,this.prevWidth=e.width,t.style.height=this.prevHeight,t.style.width=this.prevWidth},enter:function(t){var e=getComputedStyle(t);e.height,e.width;t.style.height=this.prevHeight,t.style.width=this.prevWidth,setTimeout(function(){})},afterEnter:function(t){t.style.height="auto",t.style.width="auto","page"==t.className&&(t.style.height="100%")}}},k=(n(254),Object(_.a)(w,function(){var t=this.$createElement;return(this._self._c||t)("transition",{attrs:{name:this.transitionName,mode:this.transitionMode,"enter-active-class":this.transitionEnterActiveClass},on:{beforeLeave:this.beforeLeave,enter:this.enter,afterEnter:this.afterEnter}},[this._t("default")],2)},[],!1,null,null,null));k.options.__file="TransitionPage.vue";var C=k.exports;function O(t,e,n,a,r,s,o){try{var i=t[s](o),c=i.value}catch(t){return void n(t)}i.done?e(c):Promise.resolve(c).then(a,r)}var A={data:function(){return{unlocked:!1}},created:function(){var t=function(t){return function(){var e=this,n=arguments;return new Promise(function(a,r){var s=t.apply(e,n);function o(t){O(s,a,r,o,i,"next",t)}function i(t){O(s,a,r,o,i,"throw",t)}o(void 0)})}}(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(p.a)(this.$background.isUnlocked)();case 2:e=t.sent,console.log("unlocked",e),this.unlocked=e,this.unlocked||this.$router.push("/locked");case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),beforeDestroy:function(){},computed:{},methods:{},components:{Footer:x,TransitionPage:C}},P=(n(256),Object(_.a)(A,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("div",{staticClass:"page-container"},[e("TransitionPage",[e("router-view")],1)],1),this._v(" "),e("Footer")],1)},[],!1,null,null,null));P.options.__file="Popup.vue";var $=P.exports,I=n(94),j={name:"Dialog",props:[],data:function(){return{}}},R=(n(258),Object(_.a)(j,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"dialog"},[e("div",{staticClass:"dialog-content"},[this._t("default")],2)])},[],!1,null,null,null));R.options.__file="Dialog.vue";var S=R.exports;function T(t,e,n,a,r,s,o){try{var i=t[s](o),c=i.value}catch(t){return void n(t)}i.done?e(c):Promise.resolve(c).then(a,r)}function q(t){return function(){var e=this,n=arguments;return new Promise(function(a,r){var s=t.apply(e,n);function o(t){T(s,a,r,o,i,"next",t)}function i(t){T(s,a,r,o,i,"throw",t)}o(void 0)})}}var N={props:[],data:function(){return{initialized:!1,setupVisible:!1,password:"",error:null}},created:function(){var t=q(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$db.open();case 2:return t.next=4,this.$db.getIndex("settings").get("encryptedId");case 4:this.initialized=!!t.sent,console.log("wallet initialized",this.initialized);case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),mounted:function(){},beforeDestroy:function(){},computed:{},methods:{reset:function(){this.$router.push("/reset")},showSetup:function(){var t=this;this.setupVisible=!0,setTimeout(function(){t.$refs.passwordField.focus()},1)},setup:function(){var t=q(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.error=null,this.password){t.next=4;break}return this.error="Password cannot be empty",t.abrupt("return");case 4:return t.next=6,Object(p.a)(this.$background.setup)({password:this.password});case 6:this.initialized=!0,this.password="",this.$router.push("/");case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),unlock:function(){var t=q(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.error=null,this.password){t.next=4;break}return this.error="Password cannot be empty",t.abrupt("return");case 4:return t.next=6,Object(p.a)(this.$background.unlock)({password:this.password});case 6:if(!("error"in(e=t.sent))){t.next=10;break}return this.error=e.error,t.abrupt("return");case 10:"/locked"===(n=this.$store.state.navigation.previousPath||"/")&&(n="/"),console.log("going to ",n),this.$router.push(n);case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},components:{Dialog:S}},D=(n(260),Object(_.a)(N,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"scroll-view"},[n("Dialog",[t.initialized?n("div",[n("div",{staticClass:"icon icon-lock"}),t._v(" "),n("h1",[t._v("Your wallet is locked.")]),t._v(" "),n("p",[t._v("Enter your wallet passphrase to unlock.")]),t._v(" "),n("form",{staticClass:"form",attrs:{autocomplete:"off"},on:{submit:function(e){return e.preventDefault(),t.unlock(e)}}},[n("div",{staticClass:"form-actions"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"wallet-password",attrs:{type:"password",autofocus:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._v(" "),n("Button",{attrs:{text:"Unlock",primary:"true"},nativeOn:{click:function(e){return t.unlock(e)}}}),t._v(" "),n("Button",{staticClass:"secondary",attrs:{text:"Reset wallet"},nativeOn:{click:function(e){return t.reset(e)}}}),t._v(" "),t.error?n("p",{staticClass:"error"},[t._v(t._s(t.error))]):t._e()],1)])]):t._e(),t._v(" "),t.initialized||t.setupVisible?t._e():n("div",[n("div",{staticClass:"logo"}),t._v(" "),n("h1",[t._v("Welcome to Aergo Connect.")]),t._v(" "),n("p",[t._v("A secure wallet to manage your Aergo accounts in the browser.")]),t._v(" "),n("form",{staticClass:"form",attrs:{autocomplete:"off"}},[n("div",{staticClass:"form-actions"},[n("Button",{attrs:{text:"Get started",primary:"true"},nativeOn:{click:function(e){return t.showSetup(e)}}})],1)])]),t._v(" "),n("transition",{attrs:{name:"fade"}},[!t.initialized&&t.setupVisible?n("div",[n("div",{staticClass:"icon icon-lock"}),t._v(" "),n("h1",[t._v("Set up your new wallet.")]),t._v(" "),n("p",[t._v("To get started, please configure a passphrase for your wallet. This passphrase will be used to secure all your accounts.")]),t._v(" "),n("form",{staticClass:"form",attrs:{autocomplete:"off"},on:{submit:function(e){return e.preventDefault(),t.setup(e)}}},[n("div",{staticClass:"form-actions"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],ref:"passwordField",staticClass:"wallet-password",attrs:{type:"password",autofocus:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._v(" "),n("Button",{attrs:{text:"Set passphrase",primary:"true"},nativeOn:{click:function(e){return t.setup(e)}}}),t._v(" "),t.error?n("p",{staticClass:"error"},[t._v(t._s(t.error))]):t._e()],1)])]):t._e()])],1)],1)},[],!1,null,"53e44288",null));D.options.__file="Lockscreen.vue";var E=D.exports,B=n(6),U=n(9),F=n(5);function M(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var L={data:function(){return{accountMenuShown:!1}},created:function(){var t=this;Object(p.a)(this.$background.isUnlocked)().then(function(e){t.unlocked=e,t.unlocked||t.$router.push("/locked")})},mounted:function(){this.$store.dispatch("accounts/getAccounts")},beforeDestroy:function(){},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),a.forEach(function(e){M(t,e,n[e])})}return t}({},Object(v.b)({accounts:function(t){var e=t.accounts.addresses.map(function(e){return t.accounts.accounts[e]});return e.sort(function(t,e){return t.data?-new F.Amount(t.data.balance).compare(new F.Amount(e.data.balance)):0}),e.sort(function(t,e){return t.data?t.data.spec.chainId.localeCompare(e.data.spec.chainId):0}),e}}),{accountsByChainId:function(){var t=function(t,e){var n=e;"string"==typeof e&&(n=function(t){return t[e]});var a=new Map,r=!0,s=!1,o=void 0;try{for(var i,c=t[Symbol.iterator]();!(r=(i=c.next()).done);r=!0){var u=i.value,l=n(u);a.has(l)||a.set(l,[]),a.get(l).push(u)}}catch(t){s=!0,o=t}finally{try{r||null==c.return||c.return()}finally{if(s)throw o}}return a}(this.accounts,function(t){return t&&t.data?t.data.spec.chainId:""});return Array.from(t)}}),methods:{explorerUrl:function(t){return Object(B.c)(t.data.spec.chainId).explorerUrl("/account/".concat(t.data.spec.address))},gotoExplorer:function(t){window.open(this.explorerUrl(t))},gotoExport:function(t){this.$router.push("/account/".concat(encodeURIComponent(t.key),"/export"))},gotoRemove:function(t){this.$router.push("/account/".concat(encodeURIComponent(t.key),"/remove"))},showAccountMenu:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.accountMenuShown=t},formatAmount:function(t){return t?new F.Amount(t).toUnit("aergo").toString():"0 aergo"}},components:{Identicon:U.a}},H=(n(264),Object(_.a)(L,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"slide"}},[n("div",{staticClass:"page"},[n("div",{staticClass:"seperator top"}),t._v(" "),n("div",{staticClass:"account-list-header"},[t._v("Select Active Account")]),t._v(" "),n("div",{staticClass:"scroll-view"},[n("ul",{staticClass:"account-list"},[n("li",[n("router-link",{attrs:{to:"/add-account/"}},[n("div",{staticClass:"account-item add-account"},[t._v("\n              Add Account\n            ")])])],1),t._v(" "),t._l(t.accountsByChainId,function(e){var a=e[0],r=e[1];return[n("li",{key:a,staticClass:"chainid-seperator"},[n("span",{staticClass:"chain"},[t._v(t._s(a))])]),t._v(" "),t._l(r,function(e){return n("li",{key:e.key,on:{mouseout:function(e){if(e.target!==e.currentTarget)return null;t.showAccountMenu(!1)}}},[n("router-link",{attrs:{to:"/account/"+encodeURIComponent(e.key)+"/"}},[n("div",{staticClass:"account-item"},[n("Identicon",{attrs:{text:e.data.spec.address}}),t._v(" "),n("span",{staticStyle:{flex:"1"}},[n("span",{staticClass:"account-name"},[t._v("Account")]),t._v(" "),e&&e.data?n("span",{staticClass:"account-balance"},[t._v(t._s(t.formatAmount(e.data.balance)))]):t._e(),n("br"),t._v(" "),n("span",{staticClass:"account-address-chain"},[n("span",{staticClass:"address"},[t._v(t._s(t._f("shortAddress")(e.data.spec.address,28)))])])]),t._v(" "),n("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"More actions",expression:"'More actions'"}],staticClass:"btn-action tooltipped tooltipped-no-delay tooltipped-w",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.showAccountMenu(e)}}}),t._v(" "),n("span",{staticClass:"account-menu",class:{visible:t.accountMenuShown}},[n("ul",{staticClass:"account-menu-items"},[t.explorerUrl(e)?n("li",{on:{click:function(n){n.stopPropagation(),n.preventDefault(),t.gotoExplorer(e)}}},[t._v("View in Aergoscan")]):t._e(),t._v(" "),n("li",{on:{click:function(n){n.stopPropagation(),n.preventDefault(),t.gotoExport(e)}}},[t._v("Export")]),t._v(" "),n("li",{on:{click:function(n){n.stopPropagation(),n.preventDefault(),t.gotoRemove(e)}}},[t._v("Remove")])])])],1)])],1)})]})],2)])])])},[],!1,null,null,null));H.options.__file="Accounts.vue";var z=H.exports;function K(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Q(t,e,n,a,r,s,o){try{var i=t[s](o),c=i.value}catch(t){return void n(t)}i.done?e(c):Promise.resolve(c).then(a,r)}function V(t){return function(){var e=this,n=arguments;return new Promise(function(a,r){var s=t.apply(e,n);function o(t){Q(s,a,r,o,i,"next",t)}function i(t){Q(s,a,r,o,i,"throw",t)}o(void 0)})}}var G={data:function(){return{account:{},timeout:null}},created:function(){},mounted:function(){var t=V(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.loadState();case 2:this.reloadState();case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),beforeDestroy:function(){clearTimeout(this.timeout)},watch:{"$route.params.address":function(){this.loadState()},account:function(){if(!this.account)return"";this.$store.dispatch("accounts/getChainInfo",{chainId:this.account.data.spec.chainId})}},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),a.forEach(function(e){K(t,e,n[e])})}return t}({},Object(v.b)({requestType:function(t){return t.navigation.activeRequest&&t.navigation.activeRequest.request?t.navigation.activeRequest.request.type:""}}),{explorerUrl:function(){return this.account?Object(B.c)(this.account.data.spec.chainId).explorerUrl("/account/".concat(this.account.data.spec.address)):""}}),methods:{formatAmount:function(t){return new F.Amount(t).toUnit("aergo").toString()},loadState:function(){var t=V(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("none"!==this.$route.params.address){t.next=3;break}return this.account={},t.abrupt("return");case 3:return t.next=5,this.$db.open();case 5:return t.prev=5,t.next=8,this.$db.getIndex("accounts").get(this.$route.params.address);case 8:this.account=t.sent,console.log("loaded account from db",this.account),this.timeout=setTimeout(function(){e.loadState()},1e4),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(5),this.$router.push("/");case 16:case"end":return t.stop()}},t,this,[[5,13]])}));return function(){return t.apply(this,arguments)}}(),reloadState:function(){var t=V(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.account&&this.account.data){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,this.$db.open();case 4:return t.next=6,this.$store.dispatch("accounts/loadAccount",this.account.data.spec);case 6:this.account=t.sent;case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},components:{TransitionPage:C,Identicon:U.a}},J=(n(266),Object(_.a)(G,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page"},[n("div",{staticClass:"seperator top"}),t._v(" "),n("div",{staticClass:"account-header"},[n("router-link",{staticClass:"menu-link",attrs:{to:"/"}}),t._v(" "),n("div",{staticClass:"account-item"},[t.account&&t.account.data?n("Identicon",{attrs:{text:t.account.data.spec.address}}):t._e(),t._v(" "),n("span",{staticClass:"account-item-text"},[n("span",{staticClass:"account-name-balance"},[t.$route.params.address&&"none"!==t.$route.params.address?n("span",{staticClass:"account-name"},[t._v("Account")]):t._e(),t._v(" "),"none"===t.$route.params.address?n("span",{staticClass:"account-name"},[t._v("No account selected")]):t._e(),t._v(" "),t.account&&t.account.data?n("span",{staticClass:"account-balance"},[t._v(t._s(t.formatAmount(t.account.data.balance)))]):t._e()]),t._v(" "),t.account&&t.account.data?n("span",{staticClass:"account-address-chain"},[n("span",{staticClass:"address"},[t._v(t._s(t.account.data.spec.address))]),t._v(" "),t.explorerUrl?t._e():n("span",{staticClass:"chain"},[t._v(t._s(t.account.data.spec.chainId))]),t._v(" "),t.explorerUrl?n("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Open in Explorer",expression:"'Open in Explorer'"}],staticClass:"tooltipped tooltipped-no-delay tooltipped-s"},[n("a",{staticClass:"external-link",attrs:{href:t.explorerUrl,target:"_blank"}},[n("span",{staticClass:"chain"},[t._v(t._s(t.account.data.spec.chainId))])])]):t._e()]):t._e()])],1)],1),t._v(" "),n("div",{staticClass:"seperator"}),t._v(" "),t.requestType?t._e():n("ul",{staticClass:"account-nav"},[n("li",[n("router-link",{attrs:{to:"./"}},[n("span",[t._v("Deposit")])])],1),t._v(" "),n("li",[n("router-link",{attrs:{to:"send"}},[n("span",[t._v("Send")])])],1),t._v(" "),n("li",[n("router-link",{attrs:{to:"sign"}},[n("span",[t._v("Sign")])])],1),t._v(" "),n("li",[n("router-link",{attrs:{to:"history"}},[n("span",[t._v("History")])])],1)]),t._v(" "),n("div",{staticClass:"account-subpage"},[n("TransitionPage",[n("router-view")],1)],1)])},[],!1,null,null,null));J.options.__file="Account.vue";var Y=J.exports,W=n(143),X=n.n(W);function Z(t,e,n,a,r,s,o){try{var i=t[s](o),c=i.value}catch(t){return void n(t)}i.done?e(c):Promise.resolve(c).then(a,r)}var tt={props:["data"],data:function(){return{}},mounted:function(){var t=function(t){return function(){var e=this,n=arguments;return new Promise(function(a,r){var s=t.apply(e,n);function o(t){Z(s,a,r,o,i,"next",t)}function i(t){Z(s,a,r,o,i,"throw",t)}o(void 0)})}}(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,X.a.toString(this.$props.data);case 2:this.$el.innerHTML=t.sent;case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},et=(n(289),Object(_.a)(tt,function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"qrcode"})},[],!1,null,null,null));et.options.__file="QRCode.vue";var nt={data:function(){return{}},created:function(){},beforeDestroy:function(){},computed:{chainId:function(){return this.$route.params.address&&this.$route.params.address.split("/")[0]},address:function(){return this.$route.params.address&&this.$route.params.address.split("/")[1]}},methods:{},components:{QRCode:et.exports}},at=(n(291),Object(_.a)(nt,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"scroll-view"},[n("div",{staticClass:"qrcode-container"},[n("QRCode",{attrs:{data:t.$route.params.address}})],1),t._v(" "),n("p",{staticClass:"instruction"},[t._v("\n    You can directly deposit to this address.\n  ")]),t._v(" "),n("p",{staticClass:"instruction instruction-address"},[n("span",{staticClass:"chain"},[t._v(t._s(t.chainId))]),n("br"),t._v(t._s(t.address))])])},[],!1,null,null,null));at.options.__file="Deposit.vue";var rt=at.exports,st=n(57).a,ot=(n(295),Object(_.a)(st,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"scroll-view"},[n("div",{staticClass:"overlay-dialog",class:{visible:"sending"==t.status}},[n("div",{staticClass:"loading-wrap"},[n("Spinner",{attrs:{size:"30"}})],1),t._v(" "),t.slowQuery?n("div",[t._v("\n      Sending is taking longer than usual."),n("br"),t._v("You can wait or cancel the transaction.\n      "),n("div",{staticClass:"form-actions"},[n("Button",{attrs:{text:"Cancel",primary:"true"},nativeOn:{click:function(e){return t.cancelSend(e)}}})],1)]):t._e()]),t._v(" "),n("div",{staticClass:"overlay-dialog",class:{visible:"success"==t.status}},[n("span",{staticClass:"icon icon-success"}),t._v(" "),n("h2",[t._v("The transaction has been sent.")]),t._v(" "),t.signedTx?n("p",[n("strong",[t._v("Hash: "+t._s(t.lastTxHash))]),n("br"),t._v(" "),t.explorerLink?n("a",{attrs:{href:t.explorerLink,target:"_blank"}},[t._v("Open in Aergoscan")]):t._e()]):t._e(),t._v(" "),n("div",{staticClass:"form-actions"},[n("Button",{attrs:{text:"OK",primary:"true"},nativeOn:{click:function(e){return t.cancel(e)}}})],1)]),t._v(" "),n("div",{staticClass:"overlay-dialog",class:{visible:"error"==t.status}},[n("span",{staticClass:"icon icon-fail"}),t._v(" "),n("h2",[t._v("An error occured.")]),t._v(" "),n("p",{staticClass:"error"},[t._v(t._s(t.error))]),t._v(" "),n("div",{staticClass:"form-actions"},[n("Button",{attrs:{text:"Go back",primary:"true"},nativeOn:{click:function(e){return t.cancel(e)}}})],1)]),t._v(" "),n("div",{staticClass:"overlay-dialog",class:{visible:"confirm"==t.status}},[n("h2",[t._v("Do you confirm this transaction?")]),t._v(" "),t.signedTx?n("div",{staticClass:"tx-verify"},[n("span",{staticClass:"confirm-account"},[n("Identicon",{attrs:{text:t.signedTx.fromAdr}}),t._v(" "),n("span",{staticClass:"address"},[t._v(t._s(t.signedTx.fromAdr))])],1),t._v(" "),n("span",{staticClass:"icon-fromto"}),t._v(" "),n("br"),t._v(" "),n("span",{staticClass:"confirm-account"},[n("Identicon",{attrs:{text:t.signedTx.to}}),t._v(" "),n("span",{staticClass:"address"},[t._v(t._s(t.signedTx.to||"(Create Contract)"))])],1),n("br"),t._v("\n      Amount: "),n("strong",[t._v(t._s(t.signedTx.amount))]),t._v(" "),t.stringPayload&&t.stringPayload.length?n("div",[t._v("\n        Data:\n        "),n("br"),t._v(" "),n("pre",{staticClass:"dataConfirm"},[t._v(t._s(t.stringPayload))])]):t._e()]):t._e(),t._v(" "),n("div",{staticClass:"form-actions"},[t.error?n("p",{staticClass:"error"},[t._v(t._s(t.error))]):t._e(),t._v(" "),t.error?t._e():n("div",[n("Button",{attrs:{text:"Confirm",primary:"true"},nativeOn:{click:function(e){return t.confirm(e)}}}),t._v(" "),n("Button",{staticClass:"secondary",attrs:{text:"Cancel"},nativeOn:{click:function(e){return t.cancel(e)}}})],1),t._v(" "),t.error?n("div",[n("Button",{attrs:{text:"Go back",primary:"true"},nativeOn:{click:function(e){return t.cancel(e)}}})],1):t._e()])]),t._v(" "),n("form",{staticClass:"form",attrs:{autocomplete:"off"}},[n("div",{staticClass:"form-line"},[n("label",[t._v("\n        Type\n\n        "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.transaction.uiType,expression:"transaction.uiType"}],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.transaction,"uiType",e.target.multiple?n:n[0])}}},[n("option",{attrs:{value:""}},[t._v("Normal")]),t._v(" "),n("option",{attrs:{value:"aergo.name"}},[t._v("Name System")]),t._v(" "),n("option",{attrs:{value:"aergo.system"}},[t._v("Staking & Voting")])])])]),t._v(" "),n("div",{staticClass:"form-line"},[n("label",[t._v("\n        Recipient\n\n        "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.transaction.to,expression:"transaction.to"}],ref:"address",staticClass:"text-input input-field",attrs:{type:"text",disabled:""!==t.transaction.uiType},domProps:{value:t.transaction.to},on:{input:function(e){e.target.composing||t.$set(t.transaction,"to",e.target.value)}}})])]),t._v(" "),"system"==t.payloadFormState?n("div",{staticClass:"form-line"},[n("label",[t._v("\n        Currently staked amount\n\n        "),n("span",[t._v("\n            "+t._s(t.stakedAmount)+"\n        ")])])]):t._e(),t._v(" "),"system"==t.payloadFormState?n("div",{staticClass:"form-line"},[n("label",[t._v("\n        Action\n\n        "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.payload.action,expression:"payload.action"}],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.payload,"action",e.target.multiple?n:n[0])}}},[n("option",{attrs:{value:""}},[t._v("Please select...")]),t._v(" "),n("option",{attrs:{value:"s"}},[t._v("Stake")]),t._v(" "),n("option",{attrs:{value:"u"}},[t._v("Unstake")]),t._v(" "),n("option",{attrs:{value:"v"}},[t._v("Vote")])])])]):t._e(),t._v(" "),"system"==t.payloadFormState&&"v"==t.payload.action?n("div",{staticClass:"form-line"},[n("label",[t._v("\n        Vote type\n\n        "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.payload.subAction,expression:"payload.subAction"}],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.payload,"subAction",e.target.multiple?n:n[0])}}},[n("option",{attrs:{value:"b"}},[t._v("BP")]),t._v(" "),n("option",{attrs:{value:"p"}},[t._v("DAO")])])])]):t._e(),t._v(" "),"system"==t.payloadFormState&&"s"==t.payload.action?n("div",{staticClass:"form-line action-hint"},[t._v("\n      The specified amount will be staked. \n    ")]):t._e(),t._v(" "),"system"==t.payloadFormState&&"u"==t.payload.action?n("div",{staticClass:"form-line action-hint"},[t._v("\n      The specified amount will be unstaked. \n    ")]):t._e(),t._v(" "),"system"==t.payloadFormState&&"v"==t.payload.action?n("div",{staticClass:"form-line action-hint"},[t._v("\n      Your vote (weighted by previously staked amount)"),n("br"),t._v("will be cast for the specified "+t._s("b"==t.payload.subAction?"BPs":"proposal")+".\n    ")]):t._e(),t._v(" "),"system"==t.payloadFormState&&"v"==t.payload.action&&"b"==t.payload.subAction?n("div",{staticClass:"form-line"},[n("label",[t._v("\n        BP ids\n\n        "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.payload.voteTo,expression:"payload.voteTo"}],staticClass:"text-input input-field",attrs:{type:"text",placeholder:"Comma-seperated peer ids"},domProps:{value:t.payload.voteTo},on:{input:function(e){e.target.composing||t.$set(t.payload,"voteTo",e.target.value)}}})])]):t._e(),t._v(" "),"system"==t.payloadFormState&&"v"==t.payload.action&&"p"==t.payload.subAction?n("div",{staticClass:"form-line"},[n("label",[t._v("\n        Vote for\n\n        "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.payload.voteTo,expression:"payload.voteTo"}],staticClass:"text-input input-field",attrs:{type:"text",placeholder:"vote id,candidate1,candidate2,..."},domProps:{value:t.payload.voteTo},on:{input:function(e){e.target.composing||t.$set(t.payload,"voteTo",e.target.value)}}})])]):t._e(),t._v(" "),"name"==t.payloadFormState?n("div",{staticClass:"form-line"},[n("label",[t._v("\n        Action\n\n        "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.payload.action,expression:"payload.action"}],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.payload,"action",e.target.multiple?n:n[0])}}},[n("option",{attrs:{value:""}},[t._v("Please select...")]),t._v(" "),n("option",{attrs:{value:"c"}},[t._v("Create")]),t._v(" "),n("option",{attrs:{value:"u"}},[t._v("Update")])])])]):t._e(),t._v(" "),"name"==t.payloadFormState&&"c"==t.payload.action?n("div",{staticClass:"form-line action-hint"},[t._v("\n      A new name will be assigned to your account. \n    ")]):t._e(),t._v(" "),"name"==t.payloadFormState&&"u"==t.payload.action?n("div",{staticClass:"form-line action-hint"},[t._v("\n      The name's owner will be updated. \n    ")]):t._e(),t._v(" "),"name"==t.payloadFormState&&""!==t.payload.action?n("div",{staticClass:"form-line"},[n("label",[t._v("\n        Name\n\n        "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.payload.name,expression:"payload.name"}],staticClass:"text-input input-field",attrs:{type:"text",placeholder:"Alphanumerical, 12 characters"},domProps:{value:t.payload.name},on:{input:function(e){e.target.composing||t.$set(t.payload,"name",e.target.value)}}})])]):t._e(),t._v(" "),"name"==t.payloadFormState&&"u"===t.payload.action?n("div",{staticClass:"form-line"},[n("label",[t._v("\n        New owner\n\n        "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.payload.newOwner,expression:"payload.newOwner"}],staticClass:"text-input input-field",attrs:{type:"text"},domProps:{value:t.payload.newOwner},on:{input:function(e){e.target.composing||t.$set(t.payload,"newOwner",e.target.value)}}})])]):t._e(),t._v(" "),""==t.transaction.uiType||""!==t.payload.action?n("div",{staticClass:"form-line"},[n("label",[t._v("\n        Amount\n\n        "),n("span",{staticClass:"input-field"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.transaction.amount,expression:"transaction.amount"}],staticClass:"text-input",attrs:{type:"number",disabled:t.amountFixed},domProps:{value:t.transaction.amount},on:{input:function(e){e.target.composing||t.$set(t.transaction,"amount",e.target.value)}}}),t._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.transaction.amountUnit,expression:"transaction.amountUnit"}],attrs:{disabled:t.amountFixed},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.transaction,"amountUnit",e.target.multiple?n:n[0])}}},[n("option",[t._v("aergo")]),t._v(" "),n("option",[t._v("gaer")]),t._v(" "),n("option",[t._v("aer")])])])])]):t._e(),t._v(" "),"hidden"==t.payloadFormState?n("div",{staticClass:"form-line"},[n("Button",{staticClass:"secondary",attrs:{text:"Add data"},nativeOn:{click:function(e){return t.addPayload(e)}}})],1):t._e(),t._v(" "),"manual"==t.payloadFormState?n("div",{staticClass:"form-line vertical"},[n("label",[t._v("\n        Data\n\n        "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.transaction.payload,expression:"transaction.payload"}],staticClass:"text-input",domProps:{value:t.transaction.payload},on:{input:function(e){e.target.composing||t.$set(t.transaction,"payload",e.target.value)}}})])]):t._e(),t._v(" "),n("div",{staticClass:"form-actions"},[t.error?n("p",{staticClass:"error"},[t._v(t._s(t.error))]):t._e(),t._v(" "),n("Button",{attrs:{text:"Continue",primary:"true"},nativeOn:{click:function(e){return t.startConfirm(e)}}}),t._v(" "),n("Button",{staticClass:"secondary",attrs:{text:"Cancel"},nativeOn:{click:function(e){return t.cancel(e)}}})],1)])])},[],!1,null,null,null));ot.options.__file="Send.vue";var it=ot.exports,ct=n(60).a,ut=(n(299),Object(_.a)(ct,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"scroll-view"},[t.request.request?n("PermissionRequest",{attrs:{url:t.request.request.senderURL,action:"",object:"sign a message"}}):t._e(),t._v(" "),n("form",{staticClass:"form sign-form",attrs:{autocomplete:"off"}},[n("div",{staticClass:"form-line vertical"},[n("label",[t._v("\n        Message\n\n        "),t.request&&t.request.request?t._e():n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.message,expression:"message"}],staticClass:"text-input",staticStyle:{height:"80px"},attrs:{placeholder:"Enter hex string (0x...) or text"},domProps:{value:t.message},on:{input:function(e){e.target.composing||(t.message=e.target.value)}}}),t._v(" "),t.request.request?n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.request.request.data.hash,expression:"request.request.data.hash"}],staticClass:"text-input",staticStyle:{height:"80px"},attrs:{readonly:""},domProps:{value:t.request.request.data.hash},on:{input:function(e){e.target.composing||t.$set(t.request.request.data,"hash",e.target.value)}}}):t._e()])]),t._v(" "),n("div",{staticClass:"form-actions"},[t.error?n("p",{staticClass:"error"},[t._v(t._s(t.error))]):t._e(),t._v(" "),n("Button",{attrs:{text:"Sign",primary:"true"},nativeOn:{click:function(e){return t.sign(e)}}}),t._v(" "),n("Button",{staticClass:"secondary",attrs:{text:"Cancel"},nativeOn:{click:function(e){return t.cancel(e)}}})],1),t._v(" "),t.signedMessage?n("div",{staticClass:"form-line vertical"},[n("label",[t._v("\n        Signed message\n\n        "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.signedMessage,expression:"signedMessage"}],staticClass:"text-input",staticStyle:{height:"60px"},attrs:{readonly:""},domProps:{value:t.signedMessage},on:{input:function(e){e.target.composing||(t.signedMessage=e.target.value)}}})])]):t._e(),t._v(" "),n("p",[t._v("\n      A signature is a cryptographic proof that a message is authorized by an account.\n      Signatures can be used to perform certain actions on your behalf.  \n    ")])])],1)},[],!1,null,null,null));ut.options.__file="Sign.vue";var lt=ut.exports,dt=n(63).a,pt=(n(301),Object(_.a)(dt,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"scroll-view"},[t.request.request?n("PermissionRequest",{attrs:{url:t.request.request.senderURL,action:"",object:"send a transaction"}}):t._e(),t._v(" "),n("div",{staticStyle:{position:"relative"}},[n("div",{staticClass:"overlay-dialog",class:{visible:"sending"==t.status}},[n("div",{staticClass:"loading-wrap"},[n("Spinner",{attrs:{size:"30"}})],1),t._v(" "),t.slowQuery?n("div",[t._v("\n        Sending is taking longer than usual."),n("br"),t._v("You can wait or cancel the transaction.\n        "),n("div",{staticClass:"form-actions"},[n("Button",{attrs:{text:"Cancel",primary:"true"},nativeOn:{click:function(e){return t.cancelSend(e)}}})],1)]):t._e()]),t._v(" "),n("div",{staticClass:"overlay-dialog",class:{visible:"success"==t.status}},[n("span",{staticClass:"icon icon-success"}),t._v(" "),n("h2",[t._v("The transaction has been sent.")]),t._v(" "),t.signedTx?n("p",[n("strong",[t._v("Hash: "+t._s(t.lastTxHash))]),n("br"),t._v(" "),t.explorerLink?n("a",{attrs:{href:t.explorerLink,target:"_blank"}},[t._v("Open in Aergoscan")]):t._e()]):t._e(),t._v(" "),n("div",{staticClass:"form-actions"},[n("Button",{attrs:{text:"OK",primary:"true"},nativeOn:{click:function(e){return t.finish(e)}}})],1)]),t._v(" "),n("div",{staticClass:"overlay-dialog",class:{visible:"error"==t.status}},[n("span",{staticClass:"icon icon-fail"}),t._v(" "),n("h2",[t._v("An error occured.")]),t._v(" "),n("p",{staticClass:"error"},[t._v(t._s(t.error))]),t._v(" "),n("div",{staticClass:"form-actions"},[n("Button",{attrs:{text:"Go back",primary:"true"},nativeOn:{click:function(e){return t.cancel(e)}}})],1)]),t._v(" "),n("div",{staticClass:"overlay-dialog",class:{visible:"confirm"==t.status}},[t.signedTx?n("div",{staticClass:"tx-verify"},[n("span",{staticClass:"confirm-account"},[n("Identicon",{attrs:{text:t.address}}),t._v(" "),n("span",{staticClass:"address"},[t._v(t._s(t.address))])],1),t._v(" "),n("span",{staticClass:"icon-fromto"}),t._v(" "),n("br"),t._v(" "),n("span",{staticClass:"confirm-account"},[n("Identicon",{attrs:{text:t.txData.to}}),t._v(" "),n("span",{staticClass:"address"},[t._v(t._s(t.txData.to||"(Create Contract)"))])],1),n("br"),t._v("\n        Amount: "),n("strong",[t._v(t._s(t.txData.amount))]),t._v(" "),t.payloadDisplay&&t.payloadDisplay.length?n("div",[t._v("\n          Data:\n          "),n("br"),t._v(" "),n("pre",{staticClass:"dataConfirm"},[t._v(t._s(t.payloadDisplay))])]):t._e()]):t._e(),t._v(" "),n("div",{staticClass:"form-actions"},[t.error?n("p",{staticClass:"error"},[t._v(t._s(t.error))]):t._e(),t._v(" "),t.error?t._e():n("div",[n("Button",{attrs:{text:"Confirm",primary:"true"},nativeOn:{click:function(e){return t.confirm(e)}}}),t._v(" "),n("Button",{staticClass:"secondary",attrs:{text:"Cancel"},nativeOn:{click:function(e){return t.cancel(e)}}})],1),t._v(" "),t.error?n("div",[n("Button",{attrs:{text:"Go back",primary:"true"},nativeOn:{click:function(e){return t.cancel(e)}}})],1):t._e()])]),t._v(" "),n("div",{staticClass:"overlay-dialog",class:{visible:!t.$route.params.address||"none"===t.$route.params.address}},[n("p",{staticClass:"error"},[t._v("Please select an account before continuing.")])])])],1)},[],!1,null,null,null));pt.options.__file="ApiTxSend.vue";var vt=pt.exports,ft=n(65).a,ht=(n(303),Object(_.a)(ft,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"scroll-view"},[t.request.request?n("PermissionRequest",{attrs:{url:t.request.request.senderURL,action:"",object:"sign a transaction"}}):t._e(),t._v(" "),n("div",{staticStyle:{position:"relative"}},[n("div",{staticClass:"overlay-dialog",class:{visible:"sending"==t.status}},[n("div",{staticClass:"loading-wrap"},[n("Spinner",{attrs:{size:"30"}})],1),t._v(" "),t.slowQuery?n("div",[t._v("\n        Sending is taking longer than usual."),n("br"),t._v("You can wait or cancel the transaction.\n        "),n("div",{staticClass:"form-actions"},[n("Button",{attrs:{text:"Cancel",primary:"true"},nativeOn:{click:function(e){return t.cancelSend(e)}}})],1)]):t._e()]),t._v(" "),n("div",{staticClass:"overlay-dialog",class:{visible:"success"==t.status}},[n("span",{staticClass:"icon icon-success"}),t._v(" "),n("h2",[t._v("The transaction has been signed.")]),t._v(" "),t.signedTx?n("p",[n("strong",[t._v("Signature: "+t._s(t.lastTxSignature))]),n("br")]):t._e(),t._v(" "),n("div",{staticClass:"form-actions"},[n("Button",{attrs:{text:"OK",primary:"true"},nativeOn:{click:function(e){return t.finish(e)}}})],1)]),t._v(" "),n("div",{staticClass:"overlay-dialog",class:{visible:"error"==t.status}},[n("span",{staticClass:"icon icon-fail"}),t._v(" "),n("h2",[t._v("An error occured.")]),t._v(" "),n("p",{staticClass:"error"},[t._v(t._s(t.error))]),t._v(" "),n("div",{staticClass:"form-actions"},[n("Button",{attrs:{text:"Go back",primary:"true"},nativeOn:{click:function(e){return t.cancel(e)}}})],1)]),t._v(" "),n("div",{staticClass:"overlay-dialog",class:{visible:"confirm"==t.status}},[t.signedTx?n("div",{staticClass:"tx-verify"},[n("span",{staticClass:"confirm-account"},[n("Identicon",{attrs:{text:t.address}}),t._v(" "),n("span",{staticClass:"address"},[t._v(t._s(t.address))])],1),t._v(" "),n("span",{staticClass:"icon-fromto"}),t._v(" "),n("br"),t._v(" "),n("span",{staticClass:"confirm-account"},[n("Identicon",{attrs:{text:t.txData.to}}),t._v(" "),n("span",{staticClass:"address"},[t._v(t._s(t.txData.to||"(Create Contract)"))])],1),n("br"),t._v("\n        Amount: "),n("strong",[t._v(t._s(t.txData.amount))]),t._v(" "),t.payloadDisplay&&t.payloadDisplay.length?n("div",[t._v("\n          Data:\n          "),n("br"),t._v(" "),n("pre",{staticClass:"dataConfirm"},[t._v(t._s(t.payloadDisplay))])]):t._e()]):t._e(),t._v(" "),n("div",{staticClass:"form-actions"},[t.error?n("p",{staticClass:"error"},[t._v(t._s(t.error))]):t._e(),t._v(" "),t.error?t._e():n("div",[n("Button",{attrs:{text:"Confirm",primary:"true"},nativeOn:{click:function(e){return t.confirm(e)}}}),t._v(" "),n("Button",{staticClass:"secondary",attrs:{text:"Cancel"},nativeOn:{click:function(e){return t.cancel(e)}}})],1),t._v(" "),t.error?n("div",[n("Button",{attrs:{text:"Go back",primary:"true"},nativeOn:{click:function(e){return t.cancel(e)}}})],1):t._e()])]),t._v(" "),n("div",{staticClass:"overlay-dialog",class:{visible:!t.$route.params.address||"none"===t.$route.params.address}},[n("p",{staticClass:"error"},[t._v("Please select an account before continuing.")])])])],1)},[],!1,null,null,null));ht.options.__file="ApiTxSign.vue";var mt=ht.exports,_t=n(67),gt=n.n(_t),yt=n(20),bt=n(17);function xt(t,e,n,a,r,s,o){try{var i=t[s](o),c=i.value}catch(t){return void n(t)}i.done?e(c):Promise.resolve(c).then(a,r)}function wt(t){return function(){var e=this,n=arguments;return new Promise(function(a,r){var s=t.apply(e,n);function o(t){xt(s,a,r,o,i,"next",t)}function i(t){xt(s,a,r,o,i,"throw",t)}o(void 0)})}}var kt={data:function(){return{transactions:[],state:"initial"}},created:function(){},mounted:function(){this.load()},beforeDestroy:function(){},computed:{address:function(){return this.$route.params.address&&this.$route.params.address.split("/")[1]},chainId:function(){return this.$route.params.address&&this.$route.params.address.split("/")[0]}},components:{Spinner:yt.a},methods:{moment:gt.a,explorerLink:function(t){return Object(B.c)(t.data.chainId).explorerUrl("/transaction/".concat(t.data.hash))},reload:function(){var t=wt(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Loading txs"),t.prev=1,t.next=4,Object(bt.a)(function(){return e.$store.dispatch("accounts/getAccountTx",{address:e.address,chainId:e.chainId})},{fastTime:1500});case 4:this.transactions=t.sent,t.next=11;break;case 7:t.prev=7,t.t0=t.catch(1),this.state="error",console.error(t.t0);case 11:setTimeout(function(){return e.reload()},1e4);case 12:case"end":return t.stop()}},t,this,[[1,7]])}));return function(){return t.apply(this,arguments)}}(),load:function(){var t=wt(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.state="loading",t.next=3,this.reload();case 3:this.state="loaded";case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}},Ct=(n(306),Object(_.a)(kt,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"scroll-view"},["loading"===t.state?n("div",{staticClass:"loading-wrap"},[n("Spinner",{attrs:{size:"30"}})],1):t._e(),t._v(" "),"loaded"===t.state?n("table",{staticClass:"tx-table"},[0===t.transactions.length?n("tr",[n("td",{staticClass:"empty-state"},[t._v("No transactions found.")])]):t._e(),t._v(" "),t._l(t.transactions,function(e){return n("tr",{key:e.hash,class:"status-"+e.data.status},[n("td",{attrs:{title:t.moment(e.data.ts)}},[t._v(t._s(t.moment(e.data.ts).fromNow()))]),t._v(" "),n("td",{staticClass:"address-amount"},[n("span",{staticClass:"address-amount-wrap"},[n("span",{staticClass:"address"},[e.data.to==e.data.from?n("span",{staticClass:"label"},[t._v("self-transfer")]):t._e(),t._v(" "),e.data.to!=e.data.from&&t.address==e.data.from?n("span",[n("span",{staticClass:"label label-negative"},[t._v("to")]),t._v(" "+t._s(t._f("shortAddress")(e.data.to,99)))]):t._e(),t._v(" "),e.data.to!=e.data.from&&t.address==e.data.to?n("span",[n("span",{staticClass:"label label-positive"},[t._v("from")]),t._v(" "+t._s(t._f("shortAddress")(e.data.from,99)))]):t._e()]),t._v(" "),n("span",{staticClass:"amount",domProps:{innerHTML:t._s(t.$options.filters.formatToken(e.data.amount))}})])]),t._v(" "),n("td",[t.explorerLink(e)?n("a",{staticClass:"icon icon-view",attrs:{href:t.explorerLink(e),target:"_blank"}},[t._v("view")]):t._e()])])})],2):t._e()])},[],!1,null,null,null));Ct.options.__file="History.vue";var Ot=Ct.exports,At={data:function(){return{name:"",password:""}},created:function(){},beforeDestroy:function(){},computed:{},mounted:function(){},methods:{cancel:function(){this.$router.push("/")}},components:{}},Pt=(n(308),Object(_.a)(At,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"slide"}},[n("div",{staticClass:"page"},[n("div",{staticClass:"seperator top"}),t._v(" "),n("div",{staticClass:"account-list-header"},[t._v("Add Account")]),t._v(" "),n("div",{staticClass:"action-chooser"},[n("router-link",{attrs:{to:"/add-account/create"}},[t._v("Create new account")]),t._v(" "),n("router-link",{attrs:{to:"/add-account/import"}},[t._v("Import account")])],1),t._v(" "),n("div",{staticClass:"form-actions"},[n("Button",{staticClass:"secondary",attrs:{text:"Cancel"},nativeOn:{click:function(e){return t.cancel(e)}}})],1)])])},[],!1,null,null,null));Pt.options.__file="AddAccount.vue";var $t=Pt.exports;function It(t,e,n,a,r,s,o){try{var i=t[s](o),c=i.value}catch(t){return void n(t)}i.done?e(c):Promise.resolve(c).then(a,r)}function jt(t){return function(){var e=this,n=arguments;return new Promise(function(a,r){var s=t.apply(e,n);function o(t){It(s,a,r,o,i,"next",t)}function i(t){It(s,a,r,o,i,"throw",t)}o(void 0)})}}var Rt={data:function(){return{selection:B.b,chainId:"",error:""}},created:function(){},beforeDestroy:function(){},computed:{networkOptions:function(){return Object.keys(B.a)}},watch:{selection:function(){var t=jt(regeneratorRuntime.mark(function t(e){var n,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("other"!==e){t.next=14;break}if(n=prompt("Please enter the Chain ID")){t.next=5;break}return this.selection=B.b,t.abrupt("return");case 5:if(a=prompt("Please enter the node URL (e.g. http://127.0.0.1:7845)")){t.next=10;break}return this.selection=B.b,t.abrupt("return");case 10:return t.next=13,this.$store.dispatch("accounts/addNetwork",{chainId:n,nodeUrl:a});case 13:this.chainId=n;case 14:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},mounted:function(){},methods:{create:function(){var t=jt(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return"other"!==this.selection&&(this.chainId=this.selection),t.prev=1,this.error=null,t.next=5,this.$store.dispatch("accounts/createAccount",{network:this.chainId});case 5:e=t.sent,console.log("created account",e,this.chainId),n="".concat(this.chainId,"/").concat(e.address),this.$router.push({name:"account-created",params:{address:n}}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),this.error=t.t0;case 14:case"end":return t.stop()}},t,this,[[1,11]])}));return function(){return t.apply(this,arguments)}}(),cancel:function(){this.$router.push("/")}},components:{Identicon:U.a}},St=Object(_.a)(Rt,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"slide"}},[n("div",{staticClass:"page"},[n("div",{staticClass:"seperator top"}),t._v(" "),n("div",{staticClass:"account-list-header"},[t._v("Create Account")]),t._v(" "),n("div",{staticClass:"scroll-view"},[n("form",{staticClass:"form",attrs:{autocomplete:"off"}},[n("div",{staticClass:"form-line"},[n("label",[t._v("\n            Network\n\n            "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.selection,expression:"selection"}],staticClass:"text-input",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.selection=e.target.multiple?n:n[0]}}},[t._l(t.networkOptions,function(e){return n("option",{key:e},[t._v(t._s(e))])}),t._v(" "),n("option",{attrs:{value:"other"}},[t._v("Other...")])],2)])]),t._v(" "),n("div",{staticClass:"form-actions"},[t.error?n("p",{staticClass:"error"},[t._v(t._s(t.error))]):t._e(),t._v(" "),n("Button",{attrs:{text:"Create",primary:"true"},nativeOn:{click:function(e){return t.create(e)}}}),t._v(" "),n("Button",{staticClass:"secondary",attrs:{text:"Cancel"},nativeOn:{click:function(e){return t.cancel(e)}}})],1)])])])])},[],!1,null,null,null);St.options.__file="CreateAccount.vue";var Tt=St.exports,qt={computed:{address:function(){return this.$route.params.address&&this.$route.params.address.split("/").pop()},chainId:function(){if(!this.$route.params.address)return"";var t=this.$route.params.address.split("/");return t.pop(),t.join("/")}},methods:{gotoAccount:function(){var t="".concat(this.chainId,"/").concat(this.address);this.$router.push({name:"deposit",params:{address:t}})},gotoExportAccount:function(){var t="".concat(this.chainId,"/").concat(this.address);this.$router.push({name:"account-export",params:{address:t}})}},components:{Identicon:U.a}},Nt=(n(310),Object(_.a)(qt,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"slide"}},[n("div",{staticClass:"page"},[n("div",{staticClass:"seperator top"}),t._v(" "),n("div",{staticClass:"account-list-header"},[t._v("Create Account")]),t._v(" "),n("div",{staticClass:"scroll-view create-result"},[n("span",{staticClass:"icon icon-success",staticStyle:{"margin-bottom":"5px"}}),t._v(" "),n("h2",[t._v("A new account has been created.")]),t._v(" "),n("p",{staticClass:"backup-advice"},[t._v("\n        If you plan on storing significant value in this account, \n        "),n("span",{staticClass:"backup-warning"},[t._v("make a backup")]),t._v(" by\n        exporting it now!\n      ")]),t._v(" "),n("div",{staticClass:"form-actions",staticStyle:{"margin-bottom":"20px"}},[n("Button",{attrs:{text:"Export account",primary:"true"},nativeOn:{click:function(e){return t.gotoExportAccount(e)}}})],1),t._v(" "),n("Identicon",{attrs:{text:t.address}}),t._v(" "),n("p",{staticStyle:{"word-break":"break-all"}},[t._v(t._s(t.address))]),t._v(" "),n("div",{staticClass:"form-actions"},[n("Button",{attrs:{text:"View account",primary:"true"},nativeOn:{click:function(e){return t.gotoAccount(e)}}})],1)],1)])])},[],!1,null,null,null));Nt.options.__file="CreatedAccount.vue";var Dt=Nt.exports,Et=n(18),Bt=n(144),Ut=n.n(Bt);function Ft(t,e,n,a,r,s,o){try{var i=t[s](o),c=i.value}catch(t){return void n(t)}i.done?e(c):Promise.resolve(c).then(a,r)}function Mt(t){return function(){var e=this,n=arguments;return new Promise(function(a,r){var s=t.apply(e,n);function o(t){Ft(s,a,r,o,i,"next",t)}function i(t){Ft(s,a,r,o,i,"throw",t)}o(void 0)})}}var Lt={data:function(){return{password:"",key:"",identity:null,error:"",keyType:"",importedAddress:"",selection:B.b,chainId:""}},created:function(){},beforeDestroy:function(){},computed:{networkOptions:function(){return Object.keys(B.a)}},mounted:function(){},watch:{key:function(){this.validateKey()},selection:function(){var t=Mt(regeneratorRuntime.mark(function t(e){var n,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("other"!==e){t.next=14;break}if(n=prompt("Please enter the Chain ID")){t.next=5;break}return this.selection=B.b,t.abrupt("return");case 5:if(a=prompt("Please enter the node URL (e.g. http://127.0.0.1:7845)")){t.next=10;break}return this.selection=B.b,t.abrupt("return");case 10:return t.next=13,this.$store.dispatch("accounts/addNetwork",{chainId:n,nodeUrl:a});case 13:this.chainId=n;case 14:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},methods:{importAccount:function(){var t=Mt(regeneratorRuntime.mark(function t(){var e,n,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("other"!==this.selection&&(this.chainId=this.selection),this.keyType){t.next=4;break}return this.error="Need to paste exported key.",t.abrupt("return");case 4:if("encrypted"!==this.keyType){t.next=18;break}return e=Object(Et.decodePrivateKey)(this.key),t.prev=6,t.next=9,Object(Et.decryptPrivateKey)(e,this.password);case 9:n=t.sent,this.identity=Object(Et.identifyFromPrivateKey)(n),t.next=18;break;case 13:return t.prev=13,t.t0=t.catch(6),console.log(t.t0),this.error="Could not decrypt private key. Wrong password?",t.abrupt("return");case 18:return t.next=20,this.$store.dispatch("accounts/importAccount",{identity:this.identity,network:this.chainId});case 20:if(!(a=t.sent).error){t.next=24;break}return this.error=""+a.error,t.abrupt("return");case 24:console.log("created account",a),this.importedAddress=a.address;case 26:case"end":return t.stop()}},t,this,[[6,13]])}));return function(){return t.apply(this,arguments)}}(),validateKey:function(){try{if(170!==Ut.a.decode(this.key)[0])return void(this.error="Invalid key format");this.keyType="encrypted"}catch(t){console.error("Invalid key: "+t),this.error="Invalid key format",this.keyType=""}},gotoAccount:function(){var t=encodeURIComponent("".concat(this.chainId,"/").concat(this.importedAddress));this.$router.push("/account/".concat(t,"/"))},cancel:function(){this.$router.push("/")}},components:{Identicon:U.a}},Ht=(n(313),Object(_.a)(Lt,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"slide"}},[n("div",{staticClass:"page"},[n("div",{staticClass:"seperator top"}),t._v(" "),n("div",{staticClass:"account-list-header"},[t._v("Import Account")]),t._v(" "),n("div",{staticClass:"scroll-view"},[n("div",{staticClass:"overlay-dialog create-result",class:{visible:t.importedAddress}},[n("span",{staticClass:"icon icon-success"}),t._v(" "),n("h2",[t._v("The account has been imported.")]),t._v(" "),n("p",[t._v("You can identify your account by its address or picture.")]),t._v(" "),n("Identicon",{attrs:{text:t.importedAddress}}),t._v(" "),n("p",[t._v(t._s(t.importedAddress))]),t._v(" "),n("div",{staticClass:"form-actions"},[n("Button",{attrs:{text:"View account",primary:"true"},nativeOn:{click:function(e){return t.gotoAccount(e)}}})],1)],1),t._v(" "),t.importedAddress?t._e():n("form",{staticClass:"form",attrs:{autocomplete:"off"}},[n("div",{staticClass:"form-line"},[n("label",[t._v("\n            Network\n\n            "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.selection,expression:"selection"}],staticClass:"text-input",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.selection=e.target.multiple?n:n[0]}}},[t._l(t.networkOptions,function(e){return n("option",{key:e},[t._v(t._s(e))])}),t._v(" "),n("option",{attrs:{value:"other"}},[t._v("Other...")])],2)])]),t._v(" "),n("div",{staticClass:"form-line"},[n("label",[t._v("\n            Paste exported key\n\n            "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.key,expression:"key"}],staticClass:"text-input",attrs:{type:"text"},domProps:{value:t.key},on:{input:function(e){e.target.composing||(t.key=e.target.value)}}})])]),t._v(" "),"encrypted"===t.keyType?n("div",{staticClass:"form-line"},[n("label",[t._v("\n            Password\n\n            "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"text-input",attrs:{type:"password",autocomplete:"new-password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})])]):t._e(),t._v(" "),n("div",{staticClass:"form-actions"},[t.error?n("p",{staticClass:"error"},[t._v(t._s(t.error))]):t._e(),t._v(" "),n("Button",{attrs:{text:"Import",primary:"true"},nativeOn:{click:function(e){return t.importAccount(e)}}}),t._v(" "),n("Button",{staticClass:"secondary",attrs:{text:"Cancel"},nativeOn:{click:function(e){return t.cancel(e)}}})],1)])])])])},[],!1,null,null,null));Ht.options.__file="ImportAccount.vue";var zt=Ht.exports;function Kt(t,e,n,a,r,s,o){try{var i=t[s](o),c=i.value}catch(t){return void n(t)}i.done?e(c):Promise.resolve(c).then(a,r)}var Qt={props:[],data:function(){return{}},created:function(){this.$store.dispatch("accounts/getAccounts")},beforeDestroy:function(){},computed:Object(v.b)({accounts:function(t){return t.accounts.addresses.map(function(e){return t.accounts.accounts[e]})}}),methods:{reset:function(){var t=function(t){return function(){var e=this,n=arguments;return new Promise(function(a,r){var s=t.apply(e,n);function o(t){Kt(s,a,r,o,i,"next",t)}function i(t){Kt(s,a,r,o,i,"throw",t)}o(void 0)})}}(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(confirm("Are you really sure you want to remove all accounts from this wallet?")){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,Object(p.a)(this.$background.reset)();case 5:this.$router.push("/locked");case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),cancel:function(){this.$router.push("/")}},components:{Dialog:S}},Vt=(n(315),Object(_.a)(Qt,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"scroll-view"},[n("Dialog",[n("div",{staticClass:"icon icon-warning"}),t._v(" "),n("h1",[t._v("Reset wallet")]),t._v(" "),n("p",[t._v("Resetting your wallet will remove access to all your accounts.")]),t._v(" "),t.accounts.length?n("div",[n("p",[t._v("You will lose access to "+t._s(t.accounts.length)+" accounts saved in this wallet. Make sure you have a backup or don't need these accounts anymore.")]),t._v(" "),n("ol",{staticClass:"address-list"},t._l(t.accounts,function(e){return n("li",{key:e.key},[t._v(t._s(e.key))])}))]):t._e(),t._v(" "),n("form",{staticClass:"form",attrs:{autocomplete:"off"}},[n("div",{staticClass:"form-actions"},[n("Button",{attrs:{text:"Reset wallet",primary:"true"},nativeOn:{click:function(e){return t.reset(e)}}}),t._v(" "),n("Button",{staticClass:"secondary",attrs:{text:"Cancel"},nativeOn:{click:function(e){return t.cancel(e)}}})],1)])])],1)},[],!1,null,"64dac0ae",null));Vt.options.__file="Reset.vue";var Gt=Vt.exports;function Jt(t,e,n,a,r,s,o){try{var i=t[s](o),c=i.value}catch(t){return void n(t)}i.done?e(c):Promise.resolve(c).then(a,r)}var Yt={data:function(){return{state:"input",password:"",exportedPrivateKey:""}},methods:{exportAccount:function(){var t=function(t){return function(){var e=this,n=arguments;return new Promise(function(a,r){var s=t.apply(e,n);function o(t){Jt(s,a,r,o,i,"next",t)}function i(t){Jt(s,a,r,o,i,"throw",t)}o(void 0)})}}(regeneratorRuntime.mark(function t(){var e,n,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.$route.params.address.split("/")[0],n=this.$route.params.address.split("/")[1],t.next=4,this.$store.dispatch("accounts/exportAccount",{address:n,chainId:e,password:this.password});case 4:a=t.sent,this.exportedPrivateKey=a.privateKey,this.state="result";case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),goBack:function(){this.$router.push("/account/".concat(encodeURIComponent(this.$route.params.address),"/"))}},components:{Dialog:S}},Wt=(n(317),Object(_.a)(Yt,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"scroll-view"},[n("Dialog",[n("h1",[t._v("Export account")]),t._v(" "),"input"==t.state?n("div",[n("p",[t._v("To export this account's private key,"),n("br"),t._v(" choose a passphrase for encryption.")]),t._v(" "),n("div",{staticClass:"form-actions"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],ref:"passwordField",staticClass:"wallet-password",attrs:{type:"password",placeholder:"Enter passphrase"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._v(" "),n("Button",{attrs:{text:"Export",primary:"true"},nativeOn:{click:function(e){return t.exportAccount(e)}}})],1)]):t._e(),t._v(" "),"result"==t.state?n("div",[n("p",[t._v("You can now copy and save your encrypted private key.")]),t._v(" "),n("div",{staticClass:"export"},[t._v(t._s(t.exportedPrivateKey))]),t._v(" "),n("div",{staticClass:"form-actions"},[n("Button",{attrs:{text:"Done",primary:"true"},nativeOn:{click:function(e){return t.goBack(e)}}})],1)]):t._e()])],1)},[],!1,null,"387ed6c3",null));Wt.options.__file="ExportAccount.vue";var Xt=Wt.exports;function Zt(t,e,n,a,r,s,o){try{var i=t[s](o),c=i.value}catch(t){return void n(t)}i.done?e(c):Promise.resolve(c).then(a,r)}var te={data:function(){return{}},computed:{address:function(){return this.$route.params.address&&this.$route.params.address.split("/")[1]},chainId:function(){return this.$route.params.address&&this.$route.params.address.split("/")[0]}},methods:{remove:function(){var t=function(t){return function(){var e=this,n=arguments;return new Promise(function(a,r){var s=t.apply(e,n);function o(t){Zt(s,a,r,o,i,"next",t)}function i(t){Zt(s,a,r,o,i,"throw",t)}o(void 0)})}}(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(confirm("Are you really sure you want to remove the account ".concat(this.$route.params.address," from this wallet?"))){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,Object(p.a)(this.$background.removeAccount)({chainId:this.chainId,address:this.address});case 5:this.$router.push("/");case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},components:{Dialog:S}},ee=(n(319),Object(_.a)(te,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"scroll-view"},[n("Dialog",[n("h1",[t._v("Remove account")]),t._v(" "),n("p",[t._v("This will remove access to this account in this wallet. Make sure you have a backup or don't need this account anymore.")]),t._v(" "),n("div",{staticClass:"form-actions"},[n("Button",{attrs:{text:"Remove",primary:"true"},nativeOn:{click:function(e){return t.remove(e)}}})],1)])],1)},[],!1,null,"2d984dd4",null));ee.options.__file="RemoveAccount.vue";var ne=ee.exports;function ae(t,e,n,a,r,s,o){try{var i=t[s](o),c=i.value}catch(t){return void n(t)}i.done?e(c):Promise.resolve(c).then(a,r)}function re(t){return function(){var e=this,n=arguments;return new Promise(function(a,r){var s=t.apply(e,n);function o(t){ae(s,a,r,o,i,"next",t)}function i(t){ae(s,a,r,o,i,"throw",t)}o(void 0)})}}function se(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var oe={data:function(){return{error:""}},components:{PermissionRequest:n(23).a},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),a.forEach(function(e){se(t,e,n[e])})}return t}({},Object(v.b)({request:function(t){return t.navigation.activeRequest?t.navigation.activeRequest:{}}}),{address:function(){return this.$route.params.address&&this.$route.params.address.split("/").pop()},chainId:function(){if(!this.$route.params.address)return"";var t=this.$route.params.address.split("/");return t.pop(),t.join("/")}}),methods:{confirm:function(){var t=re(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e={chainId:this.chainId,address:this.address},t.next=3,Object(p.a)(this.$background.respondToPermissionRequest)({requestId:this.request.requestId,result:{account:e}});case 3:window.close();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),cancel:function(){var t=re(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(p.a)(this.$background.denyPermissionRequest)(this.request.requestId);case 2:window.close();case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}},ie=(n(321),Object(_.a)(oe,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"scroll-view"},[n("PermissionRequest",{attrs:{url:t.request.request.senderURL,action:"receive",object:"your active account's public address and chain id"}}),t._v(" "),n("form",{staticClass:"form",attrs:{autocomplete:"off"}},[t.$route.params.address&&"none"!==t.$route.params.address?t._e():n("div",[n("p",{staticClass:"error"},[t._v("Please select an account before continuing.")])]),t._v(" "),n("div",[n("div",{staticClass:"form-actions"},[t.$route.params.address&&"none"!==t.$route.params.address?n("Button",{attrs:{text:"Confirm",primary:"true"},nativeOn:{click:function(e){return t.confirm(e)}}}):t._e(),t._v(" "),n("Button",{staticClass:"secondary",attrs:{text:"Deny"},nativeOn:{click:function(e){return t.cancel(e)}}})],1)])])],1)},[],!1,null,null,null));ie.options.__file="GetPublic.vue";var ce=[{path:"/locked",component:E,meta:{transitionName:"fade"}},{path:"/reset",component:Gt,meta:{transitionName:"fade",donottrack:!0}},{path:"/",component:z,meta:{transitionName:"slide"}},{path:"/add-account/",component:$t,meta:{transitionName:"slide-vertical"}},{path:"/add-account/create/",component:Tt,meta:{transitionName:"slide-vertical"}},{path:"/add-account/created/:address/",name:"account-created",component:Dt,meta:{transitionName:"slide-vertical"}},{path:"/add-account/import/",component:zt,meta:{transitionName:"slide-vertical"}},{path:"/account/:address/",component:Y,meta:{transitionName:"slide"},children:[{path:"",name:"deposit",component:rt,meta:{transitionName:"slide",index:1}},{path:"send",component:it,meta:{transitionName:"slide",index:2}},{path:"api-tx-send",name:"tx_send",component:vt,meta:{transitionName:"slide",index:2,donottrack:!0}},{path:"api-tx-sign",name:"tx_sign",component:mt,meta:{transitionName:"slide",index:2,donottrack:!0}},{path:"sign",name:"sign",component:lt,meta:{transitionName:"slide",index:3}},{path:"history",component:Ot,meta:{transitionName:"slide",index:4}},{path:"api-public",name:"account_public",component:ie.exports,meta:{transitionName:"slide",donottrack:!0}},{path:"export",name:"account-export",component:Xt,meta:{transitionName:"slide",donottrack:!0}},{path:"remove",component:ne,meta:{transitionName:"slide",donottrack:!0}}]}],ue={name:"Button",props:["text","primary","loading"],data:function(){return{}}},le=(n(323),n(325),Object(_.a)(ue,function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"btn",class:{primary:this.primary,loading:this.loading}},[this._v("\n  "+this._s(this.text)+"\n")])},[],!1,null,null,null));le.options.__file="Button.vue";var de=le.exports,pe=n(145);function ve(t){if(null==t)throw new TypeError("Cannot destructure undefined")}function fe(t,e,n,a,r,s,o){try{var i=t[s](o),c=i.value}catch(t){return void n(t)}i.done?e(c):Promise.resolve(c).then(a,r)}function he(t){return function(){var e=this,n=arguments;return new Promise(function(a,r){var s=t.apply(e,n);function o(t){fe(s,a,r,o,i,"next",t)}function i(t){fe(s,a,r,o,i,"throw",t)}o(void 0)})}}var me={namespaced:!0,state:{addresses:[],accounts:{},txs:{},chainInfo:{}},getters:{},actions:{getChainInfo:function(){var t=he(regeneratorRuntime.mark(function t(e,n){var a,r,s,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.commit,r=n.chainId,t.next=4,Object(p.a)(this._vm.$background.getChainInfo)({chainId:r});case 4:return s=t.sent,o=s.chainInfo,a("setChainInfo",{chainId:r,chainInfo:o}),t.abrupt("return",o);case 8:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}(),getAccounts:function(){var t=he(regeneratorRuntime.mark(function t(e){var n,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.commit,t.next=3,Object(p.a)(this._vm.$background.getAccounts)();case 3:return a=t.sent,console.log("got accounts",a),n("setAccounts",a),t.abrupt("return",a);case 7:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),createAccount:function(){var t=he(regeneratorRuntime.mark(function t(e,n){var a,r,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.commit,r=n.network,t.next=4,Object(p.a)(this._vm.$background.createAccount)({chainId:r});case 4:return s=t.sent,a("addAccount",s),t.abrupt("return",s);case 7:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}(),importAccount:function(){var t=he(regeneratorRuntime.mark(function t(e,n){var a,r,s,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.commit,r=n.identity,s=n.network,t.next=4,Object(p.a)(this._vm.$background.importAccount)({privateKey:Array.from(r.privateKey),chainId:s});case 4:return o=t.sent,a("addAccount",o),t.abrupt("return",o);case 7:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}(),exportAccount:function(){var t=he(regeneratorRuntime.mark(function t(e,n){var a,r,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return ve(e),a=n.chainId,r=n.address,s=n.password,t.next=4,Object(p.a)(this._vm.$background.exportAccount)({address:r,chainId:a,password:s});case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}(),loadAccount:function(){var t=he(regeneratorRuntime.mark(function t(e,n){var a,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return ve(e),a=n.address,r=n.chainId,Object(p.a)(this._vm.$background.setActiveAccount)({address:a,chainId:r}),t.next=5,Object(p.a)(this._vm.$background.syncAccountState)({address:a,chainId:r});case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}(),getAccountTx:function(){var t=he(regeneratorRuntime.mark(function t(e,n){var a,r,s,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.commit,r=n.address,s=n.chainId,t.next=4,Object(p.a)(this._vm.$background.getAccountTx)({address:r,chainId:s});case 4:return o=t.sent,a("setAccountTxs",{address:r,txs:o}),t.abrupt("return",o);case 7:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}(),addNetwork:function(){var t=he(regeneratorRuntime.mark(function t(e,n){var a,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return ve(e),a=n.chainId,r=n.nodeUrl,t.next=4,Object(p.a)(this._vm.$background.addNetwork)({chainId:a,nodeUrl:r});case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()},mutations:{setAccounts:function(t,e){t.addresses=e.map(function(t){return t.key});var n=!0,a=!1,r=void 0;try{for(var s,o=e[Symbol.iterator]();!(n=(s=o.next()).done);n=!0){var i=s.value;t.accounts[i.key]=i}}catch(t){a=!0,r=t}finally{try{n||null==o.return||o.return()}finally{if(a)throw r}}},addAccount:function(t,e){t.accounts[e.key]=e,t.addresses.push(e.key)},setAccount:function(t,e){t.accounts[e.key]=e},setAccountTxs:function(t,e){var n=e.address,a=e.txs;t.txs[n]=a},setChainInfo:function(t,e){var n=e.chainId,a=e.chainInfo;t.chainInfo[n]=a}}},_e={namespaced:!0,state:{currentPath:"",previousPath:"",activeAccount:{},activeRequest:null},getters:{},actions:{setCurrentRoute:function(t,e){(0,t.commit)("setCurrentPath",e.fullPath)},setActiveAccount:function(t,e){(0,t.commit)("setActiveAccount",e)},setActiveRequest:function(t,e){(0,t.commit)("setActiveRequest",{requestId:e.requestId,request:e.request})}},mutations:{setCurrentPath:function(t,e){t.previousPath=t.currentPath,t.currentPath=e},setActiveAccount:function(t,e){e!==t.activeAccount&&(t.activeAccount=e)},setActiveRequest:function(t,e){t.activeRequest=e}}};d.a.use(v.a);var ge=new pe.a({key:"vuex",storage:window.localStorage}),ye=new v.a.Store({modules:{accounts:me,navigation:_e},strict:!1,plugins:[ge.plugin]});function be(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;return(t=""+t)?t.length<=12?t:t.length>e?t.substr(0,e)+"...":t:"Contract Creation"}function xe(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=t.toString().split(".");if(a[0]=a[0].replace(/\B(?=(\d{3})+(?!\d))/g,e),a.length>1){var r=function(t){return t.split("").reverse().join("")};a[1]=r(r(a[1]).replace(/\B(?=(\d{3})+(?!\d))/g,n))}return a.join(".")}function we(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],a=!0,r=!1,s=void 0;try{for(var o,i=t[Symbol.iterator]();!(a=(o=i.next()).done)&&(n.push(o.value),!e||n.length!==e);a=!0);}catch(t){r=!0,s=t}finally{try{a||null==i.return||i.return()}finally{if(r)throw s}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var ke=["aergo","gaer","aer"];function Ce(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t=new F.Amount(t,"aer"),n)e=we(t.toUnit(n).toString().split(" "),1)[0];else for(var a=0;;){if(n=ke[a++],e=we(t.toUnit(n).toString().split(" "),1)[0],a>2||!e.match(/^0\.0{3,}/))break}e||(e="0");var r=xe(e," "," ");return r=(r=r.replace(/\s/g,'<span class="sep"></span>')).replace(".",'<span class="point">.</span>'),'<span class="formatted-value token" title="'.concat(t,'"><span class="value">').concat(r,'</span> <span class="unit">').concat(n,"</span></span>")}function Oe(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}var Ae=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return function(t,e,n){e&&Oe(t.prototype,e),n&&Oe(t,n)}(t,null,[{key:"install",value:function(t,e){t.prototype.$background=e.background}}]),t}(),Pe=n(80);function $e(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}var Ie=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return function(t,e,n){e&&$e(t.prototype,e),n&&$e(t,n)}(t,null,[{key:"install",value:function(t){t.prototype.$db=Pe.a}}]),t}(),je={bind:function(t,e){-1===t.className.indexOf("tooltipped-")&&(t.className+=" tooltipped-s"),t.className+=" tooltipped tooltipped-no-delay",t.title=e.value,t.addEventListener("mouseover",function(e){t.setAttribute("aria-label",t.title)}),t.addEventListener("mouseout",function(e){t.setAttribute("aria-label","")})},update:function(t,e){t.title=e.value}};function Re(t,e,n,a,r,s,o){try{var i=t[s](o),c=i.value}catch(t){return void n(t)}i.done?e(c):Promise.resolve(c).then(a,r)}function Se(t){return function(){var e=this,n=arguments;return new Promise(function(a,r){var s=t.apply(e,n);function o(t){Re(s,a,r,o,i,"next",t)}function i(t){Re(s,a,r,o,i,"throw",t)}o(void 0)})}}function Te(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],a=!0,r=!1,s=void 0;try{for(var o,i=t[Symbol.iterator]();!(a=(o=i.next()).done)&&(n.push(o.value),!e||n.length!==e);a=!0);}catch(t){r=!0,s=t}finally{try{a||null==i.return||i.return()}finally{if(r)throw s}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var qe=function(t,e,n){var a=!0,r=new I.a({routes:t});return r.beforeEach(function(t,r,s){if("/"==t.fullPath&&a||"deposit"==t.name&&n){a=!1,n&&t.params&&t.params.address&&(n.params.address=t.params.address);var o=n||e.state.navigation.currentPath;if(o&&o!=t.fullPath)return void s(o)}if(t.params.address)try{var i=Te(t.params.address.split("/"),2),c=i[0],u=i[1];e.dispatch("navigation/setActiveAccount",{chainId:c,address:u})}catch(t){console.error(t)}n||"/locked"==t.fullPath||t.meta&&!0===t.meta.donottrack||e.dispatch("navigation/setCurrentRoute",t),s()}),r};function Ne(t){return De.apply(this,arguments)}function De(){return(De=Se(regeneratorRuntime.mark(function t(e){var n,a,r,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(p.a)(e.getActiveAccount)();case 2:if(n=t.sent,a=new URLSearchParams(window.location.search).get("request"),r="",!a){t.next=20;break}return console.log("have a request, getting data from background"),t.next=9,Object(p.a)(e.getPermissionRequestData)(a);case 9:if(s=t.sent,console.log(s),ye.dispatch("navigation/setActiveRequest",{requestId:a,request:s}),r={ACTIVE_ACCOUNT:"account_public",SIGN:"sign",SIGN_TX:"tx_sign",SEND_TX:"tx_send"}[s.type]){t.next=17;break}return console.log("invalid request type",s.type),t.abrupt("return");case 17:t.next=22;break;case 20:return ye.dispatch("navigation/setActiveRequest",{}),t.abrupt("return",null);case 22:if(!n){t.next=26;break}return t.abrupt("return",{name:r,params:{address:n.key}});case 26:return t.abrupt("return",{name:r,params:{address:"none"}});case 27:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function Ee(t){return Be.apply(this,arguments)}function Be(){return(Be=Se(regeneratorRuntime.mark(function t(e){var n,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return d.a.use(I.a),d.a.use(Ae,{background:e.background}),d.a.use(Ie),d.a.component("Button",de),d.a.filter("shortAddress",be),d.a.filter("formatToken",Ce),d.a.filter("formatNumber",xe),d.a.directive("tooltip",je),t.next=10,Ne(e.background);case 10:n=t.sent,a=qe(ce,ye,n),new d.a({el:"#app",render:function(t){return t($)},router:a,store:ye}).$background.on("update",function(t){console.log("there is an update from the background",t),t.hasOwnProperty("unlocked")&&!t.unlocked&&a.push("/locked")}),d.a.config.devtools=!0;case 15:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function Ue(t,e,n,a,r,s,o){try{var i=t[s](o),c=i.value}catch(t){return void n(t)}i.done?e(c):Promise.resolve(c).then(a,r)}var Fe=document.getElementById("app").getAttribute("data-name");function Me(){return(Me=function(t){return function(){var e=this,n=arguments;return new Promise(function(a,r){var s=t.apply(e,n);function o(t){Ue(s,a,r,o,i,"next",t)}function i(t){Ue(s,a,r,o,i,"throw",t)}o(void 0)})}}(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.a.runtime.connect({name:Fe}),n=new o.a(e),t.next=4,l(n);case 4:Ee({background:t.sent});case 6:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}!function(){Me.apply(this,arguments)}()},46:function(t,e,n){},47:function(t,e,n){},48:function(t,e,n){},49:function(t,e,n){},50:function(t,e,n){},51:function(t,e,n){},52:function(t,e,n){},53:function(t,e,n){},54:function(t,e,n){},55:function(t,e,n){},56:function(t,e,n){},57:function(t,e,n){"use strict";(function(t){var a=n(5),r=n(1),s=n(9),o=(n(22),n(17)),i=n(20),c=n(6),u=n(7);function l(t,e,n,a,r,s,o){try{var i=t[s](o),c=i.value}catch(t){return void n(t)}i.done?e(c):Promise.resolve(c).then(a,r)}function d(t){return function(){var e=this,n=arguments;return new Promise(function(a,r){var s=t.apply(e,n);function o(t){l(s,a,r,o,i,"next",t)}function i(t){l(s,a,r,o,i,"throw",t)}o(void 0)})}}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}e.a={data:function(){return{transaction:{to:"",amount:"0",amountUnit:"aergo",payload:"",uiType:""},signedTx:null,error:"",status:"initial",lastTxHash:null,payloadFormState:"hidden",payload:{action:"",subAction:"b",name:"",newOwner:"",voteTo:""},slowQuery:!1,amountFixed:!1,stakedAmount:"...",stringPayload:""}},created:function(){},mounted:function(){this.cancel()},beforeDestroy:function(){this.cancel()},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),a.forEach(function(e){p(t,e,n[e])})}return t}({},Object(u.b)({chainInfo:function(t){return t.accounts.chainInfo}}),{address:function(){return this.$route.params.address&&this.$route.params.address.split("/").pop()},chainId:function(){if(!this.$route.params.address)return"";var t=this.$route.params.address.split("/");return t.pop(),t.join("/")},explorerLink:function(){return Object(c.c)(this.signedTx.chainId).explorerUrl("/transaction/".concat(this.lastTxHash))},namePrice:function(){try{return new a.Amount(this.chainInfo[this.chainId].nameprice)}catch(t){return new a.Amount("1 aergo")}}}),watch:{"transaction.to":function(t){var e=this;this.amountFixed=!1,"aergo.name"===t?(this.payloadFormState="name",this.transaction.amount=this.namePrice.toUnit("aergo").formatNumber(),this.amountFixed=!0):"aergo.system"===t?(this.payloadFormState="system","..."===this.stakedAmount&&Object(r.a)(this.$background.getStaking)({chainId:this.chainId,address:this.address}).then(function(t){t.amount&&(e.stakedAmount=new a.Amount(t.amount).toUnit("aergo").toString())})):"system"!==this.payloadFormState&&"name"!==this.payloadFormState||(this.payloadFormState="hidden")},"transaction.uiType":function(t,e){""!==t&&(this.transaction.to=t),""===t&&this.transaction.to===e&&(this.transaction.to=""),"aergo.name"!==t&&"aergo.name"===e&&(this.transaction.amount="0"),t!==e&&(this.payload.action="")},"payload.action":function(t){"aergo.system"==this.transaction.to&&"v"==t?(this.transaction.amount="0",this.amountFixed=!0):"aergo.system"==this.transaction.to&&(this.amountFixed=!1)},"payload.name":function(t){"name"===this.payloadFormState&&t.length>12?this.error="Name is too long (max. 12 characters)":"name"===this.payloadFormState&&this.error&&(this.error="")}},methods:{addPayload:function(){this.payloadFormState="manual"},startConfirm:function(){var e=d(regeneratorRuntime.mark(function e(){var n,a,r,s,o,i,c,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=function(e){return t.from(JSON.stringify(e))},this.error="",a=this.transaction.amount.replace(/[^\d\.]/g,""),r=this.transaction.payload,s=t.from(this.transaction.payload),o=0,"name"!==this.payloadFormState){e.next=16;break}if(12==this.payload.name.length){e.next=10;break}return this.error="Name has to be 12 alphanumeric characters (currently ".concat(this.payload.name.length,")"),e.abrupt("return");case 10:"c"==this.payload.action&&(i={Name:"v1createName",Args:[this.payload.name]},s=n(i)),"u"==this.payload.action&&(i={Name:"v1updateName",Args:[this.payload.name,this.payload.newOwner]},s=n(i)),r=JSON.stringify(i,void 0,2),o=1,e.next=17;break;case 16:"system"===this.payloadFormState&&("s"==this.payload.action&&(s=n(c={Name:"v1stake",Args:[]})),"u"==this.payload.action&&(s=n(c={Name:"v1unstake",Args:[]})),"v"==this.payload.action&&"b"==this.payload.subAction&&(c={Name:"v1voteBP",Args:this.payload.voteTo.split(",")},s=n(c)),"v"==this.payload.action&&"p"==this.payload.subAction&&(c={Name:"v1voteDAO",Args:this.payload.voteTo.replace(/\s+/g,"").split(",")},s=n(c)),r=JSON.stringify(c,void 0,2),o=1);case 17:s=Array.from(s),u={chainId:this.chainId,from:this.address,fromAdr:this.address,to:this.transaction.to,amount:"".concat(a," ").concat(this.transaction.amountUnit),payload:s,type:o},this.signedTx=u,this.stringPayload=r,console.log(u),this.status="confirm";case 23:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),confirm:function(){var t=d(regeneratorRuntime.mark(function t(){var e,n=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.status="sending",t.next=3,Object(o.a)(function(){return Object(r.a)(n.$background.sendTransaction)(n.signedTx,n.signedTx.chainId)},{fastTime:1e3,slowTime:5e3,slow:function(){n.slowQuery=!0}});case 3:"tx"in(e=t.sent)?(this.lastTxHash=e.tx.hash,console.log("tx sent",this.lastTxHash,this.signedTx),this.status="success"):"error"in e?(this.error=e.error,this.status="error",console.error("failed to send tx",e.error)):(this.status="error",console.log(e));case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),cancel:function(){Object.assign(this.$data,{transaction:{to:"",amount:"0",amountUnit:"aergo",payload:"",uiType:""},signedTx:null,error:"",status:"initial",lastTxHash:null,payloadFormState:"hidden",payload:{action:"",subAction:"b",name:"",newOwner:"",voteTo:""},slowQuery:!1,amountFixed:!1,stakedAmount:"...",stringPayload:""})}},components:{Identicon:s.a,Spinner:i.a}}}).call(this,n(4).Buffer)},58:function(t,e,n){},59:function(t,e,n){},6:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return r}),n.d(e,"c",function(){return s});var a={"aergo.io":{apiUrl:"https://api.aergoscan.io/main",explorerUrl:"https://mainnet.aergoscan.io"},"testnet.aergo.io":{apiUrl:"https://api.aergoscan.io/testnet",explorerUrl:"https://testnet.aergoscan.io"}},r="aergo.io";function s(t){var e=a[t];return void 0===e?{apiUrl:function(){return""},explorerUrl:function(){return""}}:{apiUrl:function(t){return"".concat(e.apiUrl).concat(t)},explorerUrl:function(t){return"".concat(e.explorerUrl).concat(t)}}}},60:function(t,e,n){"use strict";(function(t){var a=n(1),r=(n(5),n(22),n(17),n(20),n(23)),s=n(7);function o(t,e,n,a,r,s,o){try{var i=t[s](o),c=i.value}catch(t){return void n(t)}i.done?e(c):Promise.resolve(c).then(a,r)}function i(t){return function(){var e=this,n=arguments;return new Promise(function(a,r){var s=t.apply(e,n);function i(t){o(s,a,r,i,c,"next",t)}function c(t){o(s,a,r,i,c,"throw",t)}i(void 0)})}}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}e.a={data:function(){return{message:"",signedMessage:"",error:""}},created:function(){},beforeDestroy:function(){},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),a.forEach(function(e){c(t,e,n[e])})}return t}({},Object(s.b)({request:function(t){return t.navigation.activeRequest?t.navigation.activeRequest:{}}}),{address:function(){return this.$route.params.address&&this.$route.params.address.split("/").pop()},chainId:function(){if(!this.$route.params.address)return"";var t=this.$route.params.address.split("/");return t.pop(),t.join("/")}}),watch:{request:function(){console.log("r",this.request),this.message=this.request.request}},methods:{sign:function(){var e=i(regeneratorRuntime.mark(function e(){var n,r,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.status="sending",this.signedMessage="",this.error="",n=this.message,this.request&&this.request.requestId&&(n=this.request.request.data.hash),r=t.from(n),"0x"!==n.substr(0,2)){e.next=15;break}e.prev=7,r=t.from(n.substr(2),"hex"),e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(7),this.error=""+e.t0,e.abrupt("return");case 15:return e.next=17,Object(a.a)(this.$background.signMessage)({address:this.address,chainId:this.chainId,message:Array.from(Uint8Array.from(r))});case 17:if((s=e.sent).error?this.error=s.error:this.signedMessage="0x"+s.signedMessage,!this.request||!this.request.requestId){e.next=23;break}return e.next=22,Object(a.a)(this.$background.respondToPermissionRequest)({requestId:this.request.requestId,result:{account:{address:this.address,chainId:this.chainId},signature:s.signedMessage}});case 22:window.close();case 23:case"end":return e.stop()}},e,this,[[7,11]])}));return function(){return e.apply(this,arguments)}}(),cancel:function(){var t=i(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.message="",this.signedMessage="",!this.request||!this.request.requestId){t.next=6;break}return t.next=5,Object(a.a)(this.$background.denyPermissionRequest)(this.request.requestId);case 5:window.close();case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},components:{PermissionRequest:r.a}}}).call(this,n(4).Buffer)},61:function(t,e,n){},62:function(t,e,n){},63:function(t,e,n){"use strict";(function(t){n(5);var a=n(1),r=n(9),s=(n(22),n(17)),o=n(20),i=n(6),c=n(23),u=n(7);function l(t,e,n,a,r,s,o){try{var i=t[s](o),c=i.value}catch(t){return void n(t)}i.done?e(c):Promise.resolve(c).then(a,r)}function d(t){return function(){var e=this,n=arguments;return new Promise(function(a,r){var s=t.apply(e,n);function o(t){l(s,a,r,o,i,"next",t)}function i(t){l(s,a,r,o,i,"throw",t)}o(void 0)})}}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),a.forEach(function(e){v(t,e,n[e])})}return t}function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}e.a={data:function(){return{status:"confirm",slowQuery:!1,signedTx:{},error:"",lastTxHash:""}},created:function(){},mounted:function(){console.log(this.$store.state)},computed:p({},Object(u.b)({request:function(t){return t.navigation.activeRequest?t.navigation.activeRequest:{}},txData:function(t){return t.navigation.activeRequest&&t.navigation.activeRequest.request?t.navigation.activeRequest.request.data:{}}}),{address:function(){return this.$route.params.address&&this.$route.params.address.split("/").pop()},chainId:function(){if(!this.$route.params.address)return"";var t=this.$route.params.address.split("/");return t.pop(),t.join("/")},explorerLink:function(){return Object(i.c)(this.signedTx.chainId).explorerUrl("/transaction/".concat(this.lastTxHash))},payloadParsed:function(){var e=this.txData;return e.payload_json?t.from(JSON.stringify(e.payload_json)):t.from(e.payload,"base64")},payloadDisplay:function(){var t=this.txData;return t.payload_json?JSON.stringify(t.payload_json,null,2):t.payload}}),methods:{confirm:function(){var t=d(regeneratorRuntime.mark(function t(){var e,n,r=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.error="",this.status="sending",(e=p({},this.txData)).payload=this.payloadParsed,this.signedTx={chainId:this.chainId,from:this.address,to:e.to,amount:e.amount,payload:Array.from(e.payload),type:e.type},console.log(this.signedTx),t.next=8,Object(s.a)(function(){return Object(a.a)(r.$background.sendTransaction)(r.signedTx,r.signedTx.chainId)},{fastTime:1e3,slowTime:5e3,slow:function(){r.slowQuery=!0}});case 8:if("tx"in(n=t.sent)?(this.lastTxHash=n.tx.hash,console.log("tx sent",this.lastTxHash,this.signedTx),this.status="success"):"error"in n?(this.error=n.error,this.status="error",console.error("failed to send tx",error)):(this.status="error",console.log(n)),!this.request||!this.request.requestId){t.next=13;break}return t.next=13,Object(a.a)(this.$background.respondToPermissionRequest)({requestId:this.request.requestId,result:{account:{address:this.address,chainId:this.chainId},hash:n.tx.hash}});case 13:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),finish:function(){window.close()},cancel:function(){var t=d(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.request||!this.request.requestId){t.next=4;break}return t.next=3,Object(a.a)(this.$background.denyPermissionRequest)(this.request.requestId);case 3:window.close();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},components:{Identicon:r.a,Spinner:o.a,PermissionRequest:c.a}}}).call(this,n(4).Buffer)},64:function(t,e,n){},65:function(t,e,n){"use strict";(function(t){n(5);var a=n(1),r=n(9),s=(n(22),n(17)),o=n(20),i=n(6),c=n(23),u=n(7);function l(t,e,n,a,r,s,o){try{var i=t[s](o),c=i.value}catch(t){return void n(t)}i.done?e(c):Promise.resolve(c).then(a,r)}function d(t){return function(){var e=this,n=arguments;return new Promise(function(a,r){var s=t.apply(e,n);function o(t){l(s,a,r,o,i,"next",t)}function i(t){l(s,a,r,o,i,"throw",t)}o(void 0)})}}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),a.forEach(function(e){v(t,e,n[e])})}return t}function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}e.a={data:function(){return{status:"confirm",slowQuery:!1,signedTx:{},error:"",lastTxSignature:""}},created:function(){},mounted:function(){console.log(this.$store.state)},computed:p({},Object(u.b)({request:function(t){return t.navigation.activeRequest?t.navigation.activeRequest:{}},txData:function(t){return t.navigation.activeRequest&&t.navigation.activeRequest.request?t.navigation.activeRequest.request.data:{}}}),{address:function(){return this.$route.params.address&&this.$route.params.address.split("/").pop()},chainId:function(){if(!this.$route.params.address)return"";var t=this.$route.params.address.split("/");return t.pop(),t.join("/")},explorerLink:function(){return Object(i.c)(this.signedTx.chainId).explorerUrl("/transaction/".concat(this.lastTxHash))},payloadParsed:function(){var e=this.txData;return e.payload_json?t.from(JSON.stringify(e.payload_json)):t.from(e.payload,"base64")},payloadDisplay:function(){var t=this.txData;return t.payload_json?JSON.stringify(t.payload_json,null,2):t.payload}}),methods:{confirm:function(){var t=d(regeneratorRuntime.mark(function t(){var e,n,r=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.error="",this.status="sending",(e=p({},this.txData)).payload=this.payloadParsed,this.signedTx={chainId:this.chainId,from:this.address,to:e.to,amount:e.amount,payload:Array.from(e.payload),type:e.type},console.log(this.signedTx),t.next=8,Object(s.a)(function(){return Object(a.a)(r.$background.signTransaction)(r.signedTx,r.signedTx.chainId)},{fastTime:1e3,slowTime:5e3,slow:function(){r.slowQuery=!0}});case 8:if("tx"in(n=t.sent)?(this.lastTxSignature=n.tx.signature,console.log("tx signed",this.lastTxSignature,this.signedTx),this.status="success"):"error"in n?(this.error=n.error,this.status="error",console.error("failed to sign tx",error)):(this.status="error",console.log(n)),!this.request||!this.request.requestId){t.next=13;break}return t.next=13,Object(a.a)(this.$background.respondToPermissionRequest)({requestId:this.request.requestId,result:{account:{address:this.address,chainId:this.chainId},signature:n.tx.signature}});case 13:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),finish:function(){window.close()},cancel:function(){var t=d(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.request||!this.request.requestId){t.next=4;break}return t.next=3,Object(a.a)(this.$background.denyPermissionRequest)(this.request.requestId);case 3:window.close();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},components:{Identicon:r.a,Spinner:o.a,PermissionRequest:c.a}}}).call(this,n(4).Buffer)},66:function(t,e,n){},68:function(t,e,n){},69:function(t,e,n){},70:function(t,e,n){},71:function(t,e,n){},72:function(t,e,n){},73:function(t,e,n){},74:function(t,e,n){},75:function(t,e,n){},76:function(t,e,n){},77:function(t,e,n){},9:function(t,e,n){"use strict";var a=n(142),r=n.n(a),s={props:["text"],data:function(){return{}},watch:{text:function(t,e){this.load()}},methods:{load:function(){this.$el.innerHTML=r.a.toSvg(this.$props.text,200)}},mounted:function(){this.load()}},o=(n(262),n(0)),i=Object(o.a)(s,function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"identicon"})},[],!1,null,null,null);i.options.__file="Identicon.vue";e.a=i.exports}});
//# sourceMappingURL=popup.js.map