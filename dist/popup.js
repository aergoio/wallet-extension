!function(t){function e(e){for(var a,i,s=e[0],c=e[1],u=e[2],d=0,p=[];d<s.length;d++)i=s[d],r[i]&&p.push(r[i][0]),r[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);for(l&&l(e);p.length;)p.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],a=!0,s=1;s<n.length;s++){var c=n[s];0!==r[c]&&(a=!1)}a&&(o.splice(e--,1),t=i(i.s=n[0]))}return t}var a={},r={3:0},o=[];function i(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=a,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var l=c;o.push([187,0]),n()}({120:function(t,e,n){},122:function(t,e,n){"use strict";var a=n(26);n.n(a).a},124:function(t,e,n){"use strict";var a=n(27);n.n(a).a},126:function(t,e,n){"use strict";var a=n(28);n.n(a).a},128:function(t,e,n){"use strict";var a=n(29);n.n(a).a},130:function(t,e,n){"use strict";var a=n(30);n.n(a).a},132:function(t,e,n){"use strict";var a=n(31);n.n(a).a},134:function(t,e,n){"use strict";var a=n(32);n.n(a).a},157:function(t,e,n){"use strict";var a=n(33);n.n(a).a},159:function(t,e,n){"use strict";var a=n(34);n.n(a).a},161:function(t,e,n){"use strict";var a=n(36);n.n(a).a},163:function(t,e,n){var a={"./ko":71,"./ko.js":71};function r(t){var e=o(t);return n(e)}function o(t){var e=a[t];if(!(e+1)){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}return e}r.keys=function(){return Object.keys(a)},r.resolve=o,t.exports=r,r.id=163},164:function(t,e,n){"use strict";var a=n(38);n.n(a).a},166:function(t,e,n){"use strict";var a=n(39);n.n(a).a},168:function(t,e,n){"use strict";var a=n(40);n.n(a).a},180:function(t,e,n){"use strict";var a=n(41);n.n(a).a},182:function(t,e,n){"use strict";var a=n(42);n.n(a).a},184:function(t,e,n){"use strict";var a=n(43);n.n(a).a},187:function(t,e,n){"use strict";n.r(e);n(55),n(120);var a=n(20),r=n.n(a),o=n(44),i=n.n(o),s=n(45),c=n.n(s),u=n(11);function l(t){return new Promise(function(e,n){console.log("connecting to background...");var a=new u.EventEmitter,r=c()({sendUpdate:function(t){a.emit("update",t)}});t.pipe(r).pipe(t),r.once("remote",function(t){console.log("connected to remote"),t.on=a.on.bind(a),e(t)})})}var d=n(8),p=n(7),f={data:function(){return{status:"load",blockHeight:0}},created:function(){this.updateStatus()},beforeDestroy:function(){},computed:{networkStatusClass:function(){return"network-".concat(this.status)},networkStatusLabel:function(){return{ok:"connected",fail:"disconnected",load:"connecting..."}[this.status]}},methods:{updateStatus:function(){var t=this;Object(p.a)(this.$background.getBlockchainStatus)().then(function(e){t.status="ok",t.$data.blockHeight=e.blockHeight,setTimeout(function(){t.updateStatus()},5e3)}).catch(function(e){t.status="fail",console.error("Could not connect to blockchain.",e),setTimeout(function(){t.updateStatus()},3e4)})}},components:{}},v=(n(122),n(0)),m=Object(v.a)(f,function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"network-selector",attrs:{title:this.blockHeight}},[e("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:this.networkStatusLabel,expression:"networkStatusLabel"}],staticClass:"network-icon tooltipped tooltipped-no-delay tooltipped-n",class:this.networkStatusClass}),this._v("\n  localhost 7845\n  (#"+this._s(this.blockHeight)+")\n")])},[],!1,null,null,null);m.options.__file="NetworkSelector.vue";var h={data:function(){return{}},created:function(){},beforeDestroy:function(){},computed:{},methods:{openPopup:function(){chrome.tabs.create({url:"popup.html"})}},components:{NetworkSelector:m.exports}},y=(n(124),Object(v.a)(h,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"footer"}},[e("a",{attrs:{id:"logo",href:"https://aergo.io"}}),this._v(" "),e("div",[e("span",{staticClass:"network-selector-label"},[this._v("Network")]),this._v(" "),e("NetworkSelector")],1)])},[],!1,null,null,null));y.options.__file="Footer.vue";var _=y.exports,g={name:"TransitionPage",data:function(){return{prevHeight:0,transitionName:"fade",transitionMode:"out-in",transitionEnterActiveClass:""}},created:function(){var t=this;this.$router.beforeEach(function(e,n,a){t.transitionMode="out-in";var r=n.meta.transitionName||e.meta.transitionName||"fade",o=n.path.split("/").length-e.path.split("/").length,i=(e.meta.index||0)-(n.meta.index||0);o>0&&(r=e.meta.transitionName),o<0&&(r=n.meta.transitionName),"slide"===r&&(r=i<0||o>0?"slide-right":"slide-left"),"slide-vertical"===r&&(r=o>0?"slide-vertical-down":"slide-vertical-up",t.transitionMode=""),t.transitionEnterActiveClass="".concat(r,"-enter-active"),"zoom"===e.meta.transitionName&&(t.transitionMode="in-out",t.transitionEnterActiveClass="zoom-enter-active",document.body.style.overflow="hidden"),"zoom"===n.meta.transitionName&&(t.transitionMode=null,t.transitionEnterActiveClass=null,document.body.style.overflow=null),t.transitionName=r,a()})},methods:{beforeLeave:function(t){this.prevHeight=getComputedStyle(t).height},enter:function(t){var e=getComputedStyle(t).height;t.style.height=this.prevHeight,setTimeout(function(){t.style.height=e})},afterEnter:function(t){t.style.height="auto","page"==t.className&&(t.style.height="100%")}}},b=(n(126),Object(v.a)(g,function(){var t=this.$createElement;return(this._self._c||t)("transition",{attrs:{name:this.transitionName,mode:this.transitionMode,"enter-active-class":this.transitionEnterActiveClass},on:{beforeLeave:this.beforeLeave,enter:this.enter,afterEnter:this.afterEnter}},[this._t("default")],2)},[],!1,null,null,null));b.options.__file="TransitionPage.vue";var w=b.exports,x={data:function(){return{}},created:function(){},beforeDestroy:function(){},computed:{},methods:{},components:{Footer:_,TransitionPage:w}},C=(n(128),Object(v.a)(x,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("div",{staticClass:"page-container"},[e("TransitionPage",[e("router-view")],1)],1),this._v(" "),e("Footer")],1)},[],!1,null,null,null));C.options.__file="Popup.vue";var k=C.exports,O=n(54),A=n(15),P=n(19),$=n(4),j={data:function(){return{}},created:function(){this.$store.dispatch("accounts/getAccounts")},beforeDestroy:function(){},computed:Object(A.b)({accounts:function(t){return t.accounts.addresses.map(function(e){return t.accounts.accounts[e]})}}),methods:{openPopup:function(){chrome.tabs.create({url:"popup.html"})},formatAmount:function(t){return t?new $.Amount(t).toUnit("aergo").toString():"0 aergo"}},components:{Identicon:P.a}},S=(n(132),Object(v.a)(j,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"slide"}},[n("div",{staticClass:"page"},[n("div",{staticClass:"sep top"}),t._v(" "),n("div",{staticClass:"account-list-header"},[t._v("Select Active Account")]),t._v(" "),n("div",{staticClass:"scroll-view"},[n("ul",{staticClass:"account-list"},[t._l(t.accounts,function(e){return n("li",{key:e.id},[n("router-link",{attrs:{to:"/account/"+e.id+"/"}},[n("div",{staticClass:"account-item"},[n("Identicon",{attrs:{text:e.id}}),t._v(" "),n("span",{staticClass:"account-name"},[t._v("Account")]),t._v(" "),e&&e.data?n("span",{staticClass:"account-balance"},[t._v(t._s(t.formatAmount(e.data.balance)))]):t._e(),n("br"),t._v("\n              "+t._s(t._f("shortAddress")(e.id))+"\n            ")],1)])],1)}),t._v(" "),n("li",[n("router-link",{attrs:{to:"/add-account/"}},[n("div",{staticClass:"account-item add-account"},[t._v("\n              Add Account\n            ")])])],1)],2)])])])},[],!1,null,null,null));S.options.__file="Accounts.vue";var T=S.exports;function N(t,e,n,a,r,o,i){try{var s=t[o](i),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(a,r)}function R(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var E={data:function(){return{}},created:function(){},mounted:function(){this.reloadState()},beforeDestroy:function(){},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),a.forEach(function(e){R(t,e,n[e])})}return t}({},Object(A.b)({account:function(t){return t.accounts.accounts.hasOwnProperty(this.$route.params.address)?t.accounts.accounts[this.$route.params.address]:{}}})),methods:{formatAmount:function(t){return new $.Amount(t).toUnit("aergo").toString()},reloadState:function(){var t=function(t){return function(){var e=this,n=arguments;return new Promise(function(a,r){var o=t.apply(e,n);function i(t){N(o,a,r,i,s,"next",t)}function s(t){N(o,a,r,i,s,"throw",t)}i(void 0)})}}(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("loading account"),t.next=3,this.$store.dispatch("accounts/loadAccount",{address:this.$route.params.address});case 3:e=t.sent,console.log("loaded account",e);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},components:{TransitionPage:w,Identicon:P.a}},F=(n(134),Object(v.a)(E,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page"},[n("div",{staticClass:"sep top"}),t._v(" "),n("div",{staticClass:"account-header"},[n("div",{staticClass:"account-item"},[n("Identicon",{attrs:{text:t.$route.params.address}}),t._v(" "),n("span",{staticClass:"account-name"},[t._v("Account")]),t._v(" "),t.account&&t.account.data?n("span",{staticClass:"account-balance"},[t._v(t._s(t.formatAmount(t.account.data.balance)))]):t._e(),n("br"),t._v("\n      "+t._s(t._f("shortAddress")(t.$route.params.address))+"\n    ")],1),t._v(" "),n("router-link",{staticClass:"menu-link",attrs:{to:"/"}})],1),t._v(" "),n("div",{staticClass:"sep"}),t._v(" "),n("ul",{staticClass:"account-nav"},[n("li",[n("router-link",{attrs:{to:"./"}},[n("span",[t._v("Deposit")])])],1),t._v(" "),n("li",[n("router-link",{attrs:{to:"send"}},[n("span",[t._v("Send")])])],1),t._v(" "),n("li",[n("router-link",{attrs:{to:"history"}},[n("span",[t._v("History")])])],1)]),t._v(" "),n("div",{staticClass:"account-subpage"},[n("TransitionPage",[n("router-view")],1)],1)])},[],!1,null,null,null));F.options.__file="Account.vue";var B=F.exports,D=n(78),H=n.n(D);function I(t,e,n,a,r,o,i){try{var s=t[o](i),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(a,r)}var U={props:["data"],data:function(){return{}},mounted:function(){var t=function(t){return function(){var e=this,n=arguments;return new Promise(function(a,r){var o=t.apply(e,n);function i(t){I(o,a,r,i,s,"next",t)}function s(t){I(o,a,r,i,s,"throw",t)}i(void 0)})}}(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,H.a.toString(this.$props.data);case 2:this.$el.innerHTML=t.sent;case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},L=(n(157),Object(v.a)(U,function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"qrcode"})},[],!1,null,null,null));L.options.__file="QRCode.vue";var M={data:function(){return{}},created:function(){},beforeDestroy:function(){},computed:{},methods:{},components:{QRCode:L.exports}},K=(n(159),Object(v.a)(M,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"scroll-view"},[e("div",{staticClass:"qrcode-container"},[e("QRCode",{attrs:{data:this.$route.params.address}})],1),this._v(" "),e("p",{staticClass:"instruction"},[this._v("\n    You can directly deposit to this address.\n  ")]),this._v(" "),e("p",{staticClass:"instruction"},[this._v(this._s(this.$route.params.address))])])},[],!1,null,null,null));K.options.__file="Deposit.vue";var z=K.exports,Q=n(35).a,q=(n(161),Object(v.a)(Q,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"scroll-view"},[n("div",{staticClass:"overlay-dialog",class:{visible:"success"==t.status}},[n("h2",[t._v("The transaction has been sent.")]),t._v(" "),t.signedTx?n("p",[n("strong",[t._v("Hash: "+t._s(t.lastTxHash))]),n("br"),t._v("\n      From: "+t._s(t.signedTx.from)),n("br"),t._v("\n      To: "+t._s(t.signedTx.to)),n("br"),t._v("\n      Amount: "+t._s(t.signedTx.amount)+"\n    ")]):t._e(),t._v(" "),n("div",{staticClass:"form-actions"},[n("Button",{attrs:{text:"OK",primary:"true"},nativeOn:{click:function(e){return t.cancel(e)}}})],1)]),t._v(" "),n("div",{staticClass:"overlay-dialog",class:{visible:"confirm"==t.status}},[n("h2",[t._v("Please confirm this transaction.")]),t._v(" "),t.signedTx?n("p",{staticClass:"tx-verify"},[t._v("\n      From: "),n("Identicon",{attrs:{text:t.signedTx.from}}),t._v(" "+t._s(t.signedTx.from)),n("br"),t._v("\n      To: "),n("Identicon",{attrs:{text:t.signedTx.to}}),t._v(" "+t._s(t.signedTx.to)),n("br"),t._v("\n      Amount: "+t._s(t.signedTx.amount)+"\n    ")],1):t._e(),t._v(" "),n("div",{staticClass:"form-actions"},[t.error?n("p",{staticClass:"error"},[t._v(t._s(t.error))]):t._e(),t._v(" "),t.error?t._e():n("div",[n("Button",{attrs:{text:"Confirm",primary:"true"},nativeOn:{click:function(e){return t.confirm(e)}}}),t._v(" "),n("Button",{staticClass:"secondary",attrs:{text:"Cancel"},nativeOn:{click:function(e){return t.cancel(e)}}})],1),t._v(" "),t.error?n("div",[n("Button",{attrs:{text:"Go back",primary:"true"},nativeOn:{click:function(e){return t.cancel(e)}}})],1):t._e()])]),t._v(" "),n("form",{staticClass:"form",attrs:{autocomplete:"off"}},[n("div",{staticClass:"form-line"},[n("label",[t._v("\n        Recipient\n\n        "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.transaction.to,expression:"transaction.to"}],ref:"address",staticClass:"text-input",attrs:{type:"text"},domProps:{value:t.transaction.to},on:{input:function(e){e.target.composing||t.$set(t.transaction,"to",e.target.value)}}})])]),t._v(" "),n("div",{staticClass:"form-line"},[n("label",[t._v("\n        Amount\n\n        "),n("span",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.transaction.amount,expression:"transaction.amount"}],staticClass:"text-input",attrs:{type:"number",disabled:t.amountFixed},domProps:{value:t.transaction.amount},on:{input:function(e){e.target.composing||t.$set(t.transaction,"amount",e.target.value)}}}),t._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.transaction.amountUnit,expression:"transaction.amountUnit"}],attrs:{disabled:t.amountFixed},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.transaction,"amountUnit",e.target.multiple?n:n[0])}}},[n("option",[t._v("aergo")]),t._v(" "),n("option",[t._v("aer")]),t._v(" "),n("option",[t._v("gaer")])])])])]),t._v(" "),"hidden"==t.payloadFormState?n("div",{staticClass:"form-line"},[n("Button",{staticClass:"secondary",attrs:{text:"Add data"},nativeOn:{click:function(e){return t.addPayload(e)}}})],1):t._e(),t._v(" "),"manual"==t.payloadFormState?n("div",{staticClass:"form-line"},[n("label",[t._v("\n        Data\n\n        "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.transaction.payload,expression:"transaction.payload"}],staticClass:"text-input",attrs:{type:"text"},domProps:{value:t.transaction.payload},on:{input:function(e){e.target.composing||t.$set(t.transaction,"payload",e.target.value)}}})])]):t._e(),t._v(" "),"name"==t.payloadFormState?n("div",{staticClass:"form-line"},[n("label",[t._v("\n        Action\n\n        "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.payload.action,expression:"payload.action"}],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.payload,"action",e.target.multiple?n:n[0])}}},[n("option",{attrs:{value:""}},[t._v("Select...")]),t._v(" "),n("option",{attrs:{value:"c"}},[t._v("Create")]),t._v(" "),n("option",{attrs:{value:"u"}},[t._v("Update")])])])]):t._e(),t._v(" "),"name"==t.payloadFormState?n("div",{staticClass:"form-line"},[n("label",[t._v("\n        Name\n\n        "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.payload.name,expression:"payload.name"}],staticClass:"text-input",attrs:{type:"text"},domProps:{value:t.payload.name},on:{input:function(e){e.target.composing||t.$set(t.payload,"name",e.target.value)}}})])]):t._e(),t._v(" "),"name"==t.payloadFormState&&"u"==t.payload.action?n("div",{staticClass:"form-line"},[n("label",[t._v("\n        New owner\n\n        "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.payload.newOwner,expression:"payload.newOwner"}],staticClass:"text-input",attrs:{type:"text"},domProps:{value:t.payload.newOwner},on:{input:function(e){e.target.composing||t.$set(t.payload,"newOwner",e.target.value)}}})])]):t._e(),t._v(" "),n("div",{staticClass:"form-actions"},[t.error?n("p",{staticClass:"error"},[t._v(t._s(t.error))]):t._e(),t._v(" "),n("Button",{attrs:{text:"Continue",primary:"true"},nativeOn:{click:function(e){return t.startConfirm(e)}}}),t._v(" "),n("Button",{staticClass:"secondary",attrs:{text:"Cancel"},nativeOn:{click:function(e){return t.cancel(e)}}})],1)])])},[],!1,null,null,null));q.options.__file="Send.vue";var J=q.exports,G=n(10),W=n(37);function Y(t,e,n,a,r,o,i){try{var s=t[o](i),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(a,r)}var V={data:function(){return{transactions:[]}},created:function(){},mounted:function(){this.load()},beforeDestroy:function(){},computed:{address:function(){return this.$route.params.address}},methods:{moment:n.n(W).a,explorerLink:function(t){return Object(G.b)(G.a).explorerUrl("/transaction/".concat(t.hash))},formatAmount:function(t){return new $.Amount(t,"aer").toUnit("aergo").toString()},load:function(){var t=function(t){return function(){var e=this,n=arguments;return new Promise(function(a,r){var o=t.apply(e,n);function i(t){Y(o,a,r,i,s,"next",t)}function s(t){Y(o,a,r,i,s,"throw",t)}i(void 0)})}}(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("accounts/getAccountTx",{address:this.address});case 2:this.transactions=t.sent;case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}},X=(n(164),Object(v.a)(V,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"scroll-view"},[n("table",{staticClass:"tx-table"},t._l(t.transactions,function(e){return n("tr",{key:e.hash},[n("td",{attrs:{title:t.moment(e.data.ts)}},[t._v(t._s(t.moment(e.data.ts).fromNow()))]),t._v(" "),n("td",[e.data.to==e.data.from?n("span",{staticClass:"label"},[t._v("self-transfer")]):t._e(),t._v(" "),e.data.to!=e.data.from&&t.address==e.data.from?n("span",[n("span",{staticClass:"label label-negative"},[t._v("to")]),t._v(" "+t._s(t._f("shortAddress")(e.data.to)))]):t._e(),t._v(" "),e.data.to!=e.data.from&&t.address==e.data.to?n("span",[n("span",{staticClass:"label label-positive"},[t._v("from")]),t._v(" "+t._s(t._f("shortAddress")(e.data.from)))]):t._e()]),t._v(" "),n("td",[t._v(t._s(t.formatAmount(e.data.amount)))]),t._v(" "),n("td",[n("a",{attrs:{href:t.explorerLink(e),target:"_blank"}},[t._v("view")])])])}))])},[],!1,null,null,null));X.options.__file="History.vue";var Z=X.exports,tt={data:function(){return{name:"",password:""}},created:function(){},beforeDestroy:function(){},computed:{},mounted:function(){},methods:{cancel:function(){this.$router.push("/")}},components:{}},et=(n(166),Object(v.a)(tt,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"slide"}},[n("div",{staticClass:"page"},[n("div",{staticClass:"sep top"}),t._v(" "),n("div",{staticClass:"account-list-header"},[t._v("Add Account")]),t._v(" "),n("div",{staticClass:"action-chooser"},[n("router-link",{attrs:{to:"/add-account/create"}},[t._v("Create new account")]),t._v(" "),n("router-link",{attrs:{to:"/add-account/import"}},[t._v("Import account")])],1),t._v(" "),n("div",{staticClass:"form-actions"},[n("Button",{staticClass:"secondary",attrs:{text:"Cancel"},nativeOn:{click:function(e){return t.cancel(e)}}})],1)])])},[],!1,null,null,null));et.options.__file="AddAccount.vue";var nt=et.exports;function at(t,e,n,a,r,o,i){try{var s=t[o](i),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(a,r)}var rt={data:function(){return{name:"",password:""}},created:function(){},beforeDestroy:function(){},computed:{},mounted:function(){var t=this;setTimeout(function(){t.$refs.name.focus()},400)},methods:{create:function(){var t=function(t){return function(){var e=this,n=arguments;return new Promise(function(a,r){var o=t.apply(e,n);function i(t){at(o,a,r,i,s,"next",t)}function s(t){at(o,a,r,i,s,"throw",t)}i(void 0)})}}(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Creating account..."),t.next=3,this.$store.dispatch("accounts/createAccount",{name:this.$data.name,password:this.$data.password});case 3:e=t.sent,console.log("created account",e),this.$router.push("/");case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),cancel:function(){this.$router.push("/")}},components:{}},ot=(n(168),Object(v.a)(rt,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"slide"}},[n("div",{staticClass:"page"},[n("div",{staticClass:"sep top"}),t._v(" "),n("div",{staticClass:"account-list-header"},[t._v("Create Account")]),t._v(" "),n("div",{staticClass:"scroll-view"},[n("form",{staticClass:"form",attrs:{autocomplete:"off"}},[n("div",{staticClass:"form-line"},[n("label",[t._v("\n            Accout name\n\n            "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],ref:"name",staticClass:"text-input",attrs:{type:"text"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})])]),t._v(" "),n("div",{staticClass:"form-line"},[n("label",[t._v("\n            Password\n\n            "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"text-input",attrs:{type:"password",autocomplete:"new-password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})])]),t._v(" "),n("div",{staticClass:"form-actions"},[n("Button",{attrs:{text:"Create",primary:"true"},nativeOn:{click:function(e){return t.create(e)}}}),t._v(" "),n("Button",{staticClass:"secondary",attrs:{text:"Cancel"},nativeOn:{click:function(e){return t.cancel(e)}}})],1)])])])])},[],!1,null,null,null));ot.options.__file="CreateAccount.vue";var it=ot.exports,st=n(6),ct=n(79),ut=n.n(ct);function lt(t,e,n,a,r,o,i){try{var s=t[o](i),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(a,r)}var dt={data:function(){return{file:null,password:"",key:"",identity:null,error:"",keyType:""}},created:function(){},beforeDestroy:function(){},computed:{},mounted:function(){},watch:{key:function(t){this.validateKey()}},methods:{importAccount:function(){var t=function(t){return function(){var e=this,n=arguments;return new Promise(function(a,r){var o=t.apply(e,n);function i(t){lt(o,a,r,i,s,"next",t)}function s(t){lt(o,a,r,i,s,"throw",t)}i(void 0)})}}(regeneratorRuntime.mark(function t(){var e,n,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.keyType){t.next=3;break}return this.error="Need to select either key file or paste text.",t.abrupt("return");case 3:if("encrypted"!==this.keyType){t.next=15;break}return e=Object(st.decodePrivateKey)(this.key),t.prev=5,t.next=8,Object(st.decryptPrivateKey)(e,this.password);case 8:n=t.sent,this.identity=Object(st.identifyFromPrivateKey)(n),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(5),this.error="Could not decrypt private key. Wrong password?";case 15:return console.log(this.identity),t.next=18,this.$store.dispatch("accounts/importAccount",{identity:this.identity});case 18:a=t.sent,console.log("created account",a),this.$router.push("/account/".concat(a.address,"/"));case 21:case"end":return t.stop()}},t,this,[[5,12]])}));return function(){return t.apply(this,arguments)}}(),validateKey:function(){try{if(170!==ut.a.decode(this.key)[0])return void(this.error="Invalid key format");this.keyType="encrypted"}catch(t){console.error("Invalid key: "+t),this.error="Invalid key format",this.keyType=""}},selectedFile:function(){var t=this;this.file=this.$refs.files.files[0];var e=new FileReader;e.onload=function(e){var n=e.target.result,a=new Uint8Array(n);t.identity=Object(st.identifyFromPrivateKey)(a),t.keyType="file"},e.readAsArrayBuffer(this.file)},cancel:function(){this.$router.push("/")}},components:{}},pt=(n(180),Object(v.a)(dt,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"slide"}},[n("div",{staticClass:"page"},[n("div",{staticClass:"sep top"}),t._v(" "),n("div",{staticClass:"account-list-header"},[t._v("Import Account")]),t._v(" "),n("div",{staticClass:"scroll-view"},[n("form",{staticClass:"form",attrs:{autocomplete:"off"}},[n("div",{staticClass:"form-line"},[n("label",[t._v("\n            Select file\n\n            "),n("input",{ref:"files",staticStyle:{width:"180px"},attrs:{type:"file",accept:".key"},on:{change:t.selectedFile}})])]),t._v(" "),n("div",{staticClass:"form-line"},[n("label",[t._v("\n            OR Paste exported key\n\n            "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.key,expression:"key"}],staticClass:"text-input",attrs:{type:"text"},domProps:{value:t.key},on:{input:function(e){e.target.composing||(t.key=e.target.value)}}})])]),t._v(" "),"encrypted"===t.keyType?n("div",{staticClass:"form-line"},[n("label",[t._v("\n            Password\n\n            "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"text-input",attrs:{type:"password",autocomplete:"new-password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})])]):t._e(),t._v(" "),n("div",{staticClass:"form-actions"},[t.error?n("p",{staticClass:"error"},[t._v(t._s(t.error))]):t._e(),t._v(" "),n("Button",{attrs:{text:"Import",primary:"true"},nativeOn:{click:function(e){return t.importAccount(e)}}}),t._v(" "),n("Button",{staticClass:"secondary",attrs:{text:"Cancel"},nativeOn:{click:function(e){return t.cancel(e)}}})],1)])])])])},[],!1,null,null,null));pt.options.__file="ImportAccount.vue";var ft=[{path:"/",component:T,meta:{transitionName:"slide-vertical"}},{path:"/add-account/",component:nt,meta:{transitionName:"slide-vertical"}},{path:"/add-account/create/",component:it,meta:{transitionName:"slide-vertical"}},{path:"/add-account/import/",component:pt.exports,meta:{transitionName:"slide-vertical"}},{path:"/account/:address/",component:B,meta:{transitionName:"slide-vertical"},children:[{path:"",component:z,meta:{transitionName:"slide",index:1}},{path:"send",component:J,meta:{transitionName:"slide",index:2}},{path:"history",component:Z,meta:{transitionName:"slide",index:3}}]}],vt={name:"Button",props:["text","primary","loading"],data:function(){return{}}},mt=(n(182),n(184),Object(v.a)(vt,function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"btn",class:{primary:this.primary,loading:this.loading}},[this._v("\n  "+this._s(this.text)+"\n")])},[],!1,null,null,null));mt.options.__file="Button.vue";var ht=mt.exports,yt=n(80);function _t(t,e,n,a,r,o,i){try{var s=t[o](i),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(a,r)}function gt(t){return function(){var e=this,n=arguments;return new Promise(function(a,r){var o=t.apply(e,n);function i(t){_t(o,a,r,i,s,"next",t)}function s(t){_t(o,a,r,i,s,"throw",t)}i(void 0)})}}var bt={namespaced:!0,state:{addresses:[],accounts:{},txs:{}},getters:{},actions:{getAccounts:function(){var t=gt(regeneratorRuntime.mark(function t(e){var n,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.commit,t.next=3,Object(p.a)(this._vm.$background.getAccounts)();case 3:return a=t.sent,console.log("got accounts",a),n("setAccounts",a),t.abrupt("return",a);case 7:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),createAccount:function(){var t=gt(regeneratorRuntime.mark(function t(e,n){var a,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.commit,t.next=3,Object(p.a)(this._vm.$background.createAccount)(n);case 3:return r=t.sent,a("addAccount",r),t.abrupt("return",r);case 6:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}(),importAccount:function(){var t=gt(regeneratorRuntime.mark(function t(e,n){var a,r,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.commit,r=n.identity,t.next=4,Object(p.a)(this._vm.$background.importAccount)({privateKey:r.privateKey.toArray()});case 4:return o=t.sent,a("addAccount",o),t.abrupt("return",o);case 7:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}(),loadAccount:function(){var t=gt(regeneratorRuntime.mark(function t(e,n){var a,r,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.commit,r=n.address,t.next=4,Object(p.a)(this._vm.$background.syncAccountState)(r);case 4:return o=t.sent,a("setAccount",{account:o}),t.abrupt("return",o);case 7:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}(),getAccountTx:function(){var t=gt(regeneratorRuntime.mark(function t(e,n){var a,r,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.commit,r=n.address,t.next=4,Object(p.a)(this._vm.$background.syncAccountTx)(r);case 4:return o=t.sent,a("setAccountTxs",{address:r,txs:o}),t.abrupt("return",o);case 7:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()},mutations:{setAccounts:function(t,e){t.addresses=e.map(function(t){return t.id});var n=!0,a=!1,r=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var s=o.value;t.accounts[s.id]=s}}catch(t){a=!0,r=t}finally{try{n||null==i.return||i.return()}finally{if(a)throw r}}},addAccount:function(t,e){t.accounts[e.id]=e,t.addresses.push(e.id)},setAccount:function(t,e){t.accounts[e.id]=e},setAccountTxs:function(t,e){var n=e.address,a=e.txs;t.txs[n]=a}}},wt={namespaced:!0,state:{currentPath:""},getters:{},actions:{setCurrentRoute:function(t,e){(0,t.commit)("setCurrentPath",e.fullPath)}},mutations:{setCurrentPath:function(t,e){t.currentPath=e}}};d.a.use(A.a);var xt=new yt.a({key:"vuex",storage:window.localStorage}),Ct=new A.a.Store({modules:{accounts:bt,navigation:wt},strict:!1,plugins:[xt.plugin]});function kt(t){return(t=""+t).substr(0,8)+"..."+t.substr(t.length-4)}function Ot(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}var At=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return function(t,e,n){e&&Ot(t.prototype,e),n&&Ot(t,n)}(t,null,[{key:"install",value:function(t,e){t.prototype.$background=e.background}}]),t}(),Pt={bind:function(t,e){-1===t.className.indexOf("tooltipped-")&&(t.className+=" tooltipped-s"),t.className+=" tooltipped tooltipped-no-delay",t.title=e.value,t.addEventListener("mouseover",function(e){t.setAttribute("aria-label",t.title)}),t.addEventListener("mouseout",function(e){t.setAttribute("aria-label","")})},update:function(t,e){t.title=e.value}};function $t(t,e,n,a,r,o,i){try{var s=t[o](i),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(a,r)}var jt=function(t,e){var n=!0,a=new O.a({routes:t});return a.beforeEach(function(t,a,r){if("/"==t.fullPath&&n){n=!1;var o=e.state.navigation.currentPath;if(o&&o!=t.fullPath)return void r(o)}e.dispatch("navigation/setCurrentRoute",t),r()}),a};function St(t){return Tt.apply(this,arguments)}function Tt(){return(Tt=function(t){return function(){var e=this,n=arguments;return new Promise(function(a,r){var o=t.apply(e,n);function i(t){$t(o,a,r,i,s,"next",t)}function s(t){$t(o,a,r,i,s,"throw",t)}i(void 0)})}}(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:d.a.use(O.a),d.a.use(At,{background:e.background}),d.a.component("Button",ht),d.a.filter("shortAddress",kt),d.a.directive("tooltip",Pt),new d.a({el:"#app",render:function(t){return t(k)},router:jt(ft,Ct),store:Ct}).$background.on("update",function(t){console.log("there is an update from the background"),console.log(t)}),d.a.config.devtools=!0;case 8:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function Nt(t,e,n,a,r,o,i){try{var s=t[o](i),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(a,r)}var Rt=document.getElementById("app").getAttribute("data-name");function Et(){return(Et=function(t){return function(){var e=this,n=arguments;return new Promise(function(a,r){var o=t.apply(e,n);function i(t){Nt(o,a,r,i,s,"next",t)}function s(t){Nt(o,a,r,i,s,"throw",t)}i(void 0)})}}(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.a.runtime.connect({name:Rt}),n=new i.a(e),t.next=4,l(n);case 4:St({background:t.sent});case 6:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}!function(){Et.apply(this,arguments)}()},19:function(t,e,n){"use strict";var a=n(77),r=n.n(a),o={props:["text"],data:function(){return{}},mounted:function(){this.$el.innerHTML=r.a.toSvg(this.$props.text,200)}},i=(n(130),n(0)),s=Object(i.a)(o,function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"identicon"})},[],!1,null,null,null);s.options.__file="Identicon.vue";e.a=s.exports},26:function(t,e,n){},27:function(t,e,n){},28:function(t,e,n){},29:function(t,e,n){},30:function(t,e,n){},31:function(t,e,n){},32:function(t,e,n){},33:function(t,e,n){},34:function(t,e,n){},35:function(t,e,n){"use strict";(function(t){var a=n(4),r=n(7),o=n(19);function i(t,e,n,a,r,o,i){try{var s=t[o](i),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(a,r)}function s(t){return function(){var e=this,n=arguments;return new Promise(function(a,r){var o=t.apply(e,n);function s(t){i(o,a,r,s,c,"next",t)}function c(t){i(o,a,r,s,c,"throw",t)}s(void 0)})}}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var u={transaction:{to:"",amount:0,nonce:1,amountUnit:"aergo",payload:""},signedTx:null,error:"",status:"initial",lastTxHash:null,payloadFormState:"hidden",payload:{action:"",name:"",newOwner:""},amountFixed:!1};e.a={data:function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),a.forEach(function(e){c(t,e,n[e])})}return t}({},u)},created:function(){},beforeDestroy:function(){},computed:{},watch:{"transaction.to":function(t){"aergo.name"===t?(this.payloadFormState="name",this.transaction.amount="1",this.amountFixed=!0):"aergo.system"===t&&(this.payloadFormState="system")},"payload.name":function(t){"name"===this.payloadFormState&&t.length>12?this.error="Name is too long (max. 12 characters)":"name"===this.payloadFormState&&this.error&&(this.error="")}},methods:{addPayload:function(){this.payloadFormState="manual"},startConfirm:function(){var e=s(regeneratorRuntime.mark(function e(){var n,r,o,i,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.error="",n=this.$route.params.address,r=this.transaction.amount.replace(/[^\d\.]/g,""),o=this.transaction.payload,i=0,"name"===this.payloadFormState&&(o=t.from(this.payload.action+this.payload.name),"u"==this.payload.action&&(o=t.concat([o,t.from(","),a.Address.decode(this.payload.newOwner)])),o=Array.from(o),i=1),s={from:n,to:this.transaction.to,amount:"".concat(r," ").concat(this.transaction.amountUnit),payload:o,type:i},this.signedTx=s,this.status="confirm";case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),confirm:function(){var t=s(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(r.a)(this.$background.sendTransaction)(this.signedTx);case 2:"tx"in(e=t.sent)&&(this.lastTxHash=e.tx.hash,console.log("tx sent",this.lastTxHash,this.signedTx),this.status="success"),"error"in e&&(this.error=e.error,console.log("failed to send tx",errorReason,error));case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),cancel:function(){this.transaction.to=u.transaction.to,this.transaction.amount=u.transaction.amount,this.status="initial",this.error=""}},components:{Identicon:o.a}}}).call(this,n(5).Buffer)},36:function(t,e,n){},38:function(t,e,n){},39:function(t,e,n){},40:function(t,e,n){},41:function(t,e,n){},42:function(t,e,n){},43:function(t,e,n){},7:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var a=Symbol("util.promisify.custom");function r(t,e){if(void 0===e&&(e=this),"function"!=typeof t)throw new Error("original","Function",t);function n(){for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return new Promise(function(n,r){t.call.apply(t,[e].concat(a,[function(t){n(t)}]))})}return Object.setPrototypeOf(n,Object.getPrototypeOf(t)),Object.defineProperty(n,a,{value:n,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(n,Object.getOwnPropertyDescriptors(t))}}});
//# sourceMappingURL=popup.js.map